{{- $kubeTargetVersion := default .Capabilities.KubeVersion.GitVersion .Values.kubeTargetVersionOverride }}
{{- if and (or .Values.grafana.enabled .Values.grafana.forceDeployDashboards) (semverCompare ">=1.14.0-0" $kubeTargetVersion) (semverCompare "<9.9.9-9" $kubeTargetVersion) .Values.grafana.defaultDashboardsEnabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  namespace: {{ template "kube-prometheus-stack-grafana.namespace" . }}
  name: {{ printf "%s-%s" (include "kube-prometheus-stack.fullname" $) "dubbo-app-metrics" | trunc 63 | trimSuffix "-" }}
  annotations:
{{ toYaml .Values.grafana.sidecar.dashboards.annotations | indent 4 }}
  labels:
    {{- if $.Values.grafana.sidecar.dashboards.label }}
    {{ $.Values.grafana.sidecar.dashboards.label }}: {{ ternary $.Values.grafana.sidecar.dashboards.labelValue "1" (not (empty $.Values.grafana.sidecar.dashboards.labelValue)) | quote }}
    {{- end }}
    app: {{ template "kube-prometheus-stack.name" $ }}-grafana
{{ include "kube-prometheus-stack.labels" $ | indent 4 }}
data:
  dubbo-app-metrics.json: |-
    {{`{"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":5,"links":[],"liveNow":false,"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":14,"panels":[],"title":"应用概览","type":"row"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":1,"min":0,"noValue":"无","thresholds":{"mode":"percentage","steps":[{"color":"dark-red","value":null},{"color":"dark-yellow","value":90},{"color":"dark-green","value":100}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":7,"w":3,"x":0,"y":1},"id":19,"options":{"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":true,"showThresholdMarkers":true,"text":{}},"pluginVersion":"10.0.3","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"(sum(dubbo_consumer_requests_succeed_total{application_name=\"$application_name\"})   / sum(dubbo_consumer_requests_total{application_name=\"$application_name\"})  ) OR on() vector(NAN)","hide":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"调用成功率（作为消费者）","type":"gauge"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":1,"min":0,"noValue":"No data","thresholds":{"mode":"percentage","steps":[{"color":"dark-red","value":null},{"color":"dark-yellow","value":90},{"color":"dark-green","value":100}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":7,"w":3,"x":3,"y":1},"id":20,"options":{"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":true,"showThresholdMarkers":true,"text":{}},"pluginVersion":"10.0.3","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (dubbo_provider_requests_succeed_total{application_name=\"$application_name\"}) / sum (dubbo_provider_requests_total{application_name=\"$application_name\"}) OR  vector(0)","hide":false,"instant":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"被调用成功率（作为生产者）","type":"gauge"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":6,"x":6,"y":1},"id":43,"interval":"1s","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_provider_qps_total{application_name=\"$application_name\"})","instant":false,"legendFormat":"生产者被调用","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_consumer_qps_total{application_name=\"$application_name\"})","hide":false,"instant":false,"legendFormat":"消费者调用","range":true,"refId":"B"}],"title":"QPS","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":7,"w":6,"x":12,"y":1},"id":48,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"8.2.5","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_avg_milliseconds_aggregate{application_name=\"$application_name\"}>0)","format":"time_series","instant":false,"interval":"","legendFormat":"调用 avg RT","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_provider_rt_avg_milliseconds_aggregate{application_name=\"$application_name\"}>0)","hide":false,"instant":false,"legendFormat":"被调用 avg RT","range":true,"refId":"B"}],"title":"RT","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"当前正在处理的请求","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":6,"x":18,"y":1},"id":60,"interval":"1s","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_provider_requests_processing{application_name=\"$application_name\"} or vector(0)","instant":false,"legendFormat":"生产者处理并发量","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_consumer_requests_processing{application_name=\"$application_name\"} or vector(0)","hide":false,"instant":false,"legendFormat":"消费者调用并发量","range":true,"refId":"B"}],"title":"并发","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"percentage","steps":[{"color":"dark-green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":0,"y":8},"id":63,"options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"/^实时时延$/","values":false},"textMode":"auto"},"pluginVersion":"10.0.3","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_provider_rt_milliseconds_last{application_name=\"$application_name\"})","instant":false,"legendFormat":"实时时延","range":true,"refId":"A"}],"title":"最近调用RT（作为生产者）","type":"stat"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":9,"x":6,"y":8},"id":31,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_total{application_name=\"$application_name\"}[2m])>0) OR vector(0)","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_succeed_total{application_name=\"$application_name\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"成功数","range":true,"refId":"D"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_total{application_name=\"$application_name\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"失败数","range":true,"refId":"E"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_business_failed_total{application_name=\"$application_name\"}[2m])>0)  OR vector(0)","hide":false,"instant":false,"legendFormat":"业务原因失败数","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_timeout_total{application_name=\"$application_name\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"超时数","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_unknown_failed_tota{application_name=\"$application_name\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"未知原因失败数","range":true,"refId":"F"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_service_unavailable_total{application_name=\"$application_name\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"服务不可用数","range":true,"refId":"G"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_network_total{application_name=\"$application_name\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"网络错误数","range":true,"refId":"H"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_codec_total{application_name=\"$application_name\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"编解码错误数","range":true,"refId":"I"}],"title":"调用总览(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":9,"x":15,"y":8},"id":3,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_total{application_name=\"$application_name\"}[2m])) OR vector(0)","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_succeed_total{application_name=\"$application_name\"}[2m]) ) OR vector(0)","hide":false,"instant":false,"legendFormat":"成功数","range":true,"refId":"D"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_total{application_name=\"$application_name\"}[2m]) ) OR vector(0)","hide":false,"instant":false,"legendFormat":"失败数","range":true,"refId":"E"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_business_failed_total{application_name=\"$application_name\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"业务原因失败数","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_timeout_total{application_name=\"$application_name\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"超时数","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_unknown_failed_tota{application_name=\"$application_name\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"未知原因失败数","range":true,"refId":"F"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_failed_service_unavailable_total{application_name=\"$application_name\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"服务不可用数","range":true,"refId":"G"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_failed_network_total{application_name=\"$application_name\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"网络错误数","range":true,"refId":"H"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_failed_codec_total{application_name=\"$application_name\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"序列化错误数","range":true,"refId":"I"}],"title":"被调用总览(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"percentage","steps":[{"color":"dark-green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":0,"y":13},"id":62,"options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"/^实时时延$/","values":false},"textMode":"auto"},"pluginVersion":"10.0.3","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_consumer_rt_milliseconds_last{application_name=\"$application_name\"})","instant":false,"legendFormat":"实时时延","range":true,"refId":"A"}],"title":"最近调用RT（作为消费者）","type":"stat"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":18},"id":6,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[]},"gridPos":{"h":10,"w":12,"x":0,"y":42},"id":1,"interval":"1s","links":[],"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(sum(dubbo_provider_qps_total{application_name=\"$application_name\"}) by (instance))","hide":false,"instant":false,"legendFormat":"平均QPS","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":true,"expr":"sum(dubbo_provider_qps_total{application_name=\"$application_name\"}) by (instance, pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"被调用QPS（作为生产者）","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":12,"x":12,"y":42},"id":2,"interval":"1s","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(sum(dubbo_consumer_qps_total{application_name=\"$application_name\"}) by (instance))","hide":false,"instant":false,"legendFormat":"平均QPS","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":true,"expr":"sum(dubbo_consumer_qps_total{application_name=\"$application_name\"}) by (instance, pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"调用QPS（作为消费者）","type":"timeseries"}],"title":"QPS (生产者 & 消费者)","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":19},"id":36,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":0,"y":37},"id":32,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_total{application_name=\"$application_name\"}[2m])>0)","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_total{application_name=\"$application_name\"}[2m])>0) by (instance,pod) ","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"调用总数(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":8,"y":37},"id":33,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_succeed_total{application_name=\"$application_name\"}[2m])>0) ","instant":false,"legendFormat":"成功总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_succeed_total{application_name=\"$application_name\"}[2m])>0) by (instance,pod) ","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"调用成功(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":16,"y":37},"id":34,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_total{application_name=\"$application_name\"}[2m])>0) ","instant":false,"legendFormat":"失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_total{application_name=\"$application_name\"}[2m])>0) by (instance,pod) ","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"调用失败(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":0,"y":47},"id":35,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_business_failed_total{application_name=\"$application_name\"}[2m]))","instant":false,"legendFormat":"业务原因错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_business_failed_total{application_name=\"$application_name\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"业务原因错误(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":8,"y":47},"id":38,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_timeout_total{application_name=\"$application_name\"}[2m])) ","instant":false,"legendFormat":"超时错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_timeout_total{application_name=\"$application_name\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"超时错误(Consumer 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":16,"y":47},"id":40,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_service_unavailable_total{application_name=\"$application_name\"}[2m])) >0","instant":false,"legendFormat":"服务不可用总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_service_unavailable_total{application_name=\"$application_name\"}[2m])) by (instance,pod) >0","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"服务不可用错误(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":0,"y":57},"id":41,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_network_total{application_name=\"$application_name\"}[2m])) ","instant":false,"legendFormat":"网络错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_network_total{application_name=\"$application_name\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"网络错误(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":8,"y":57},"id":42,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_codec_total{application_name=\"$application_name\"}[2m])) ","instant":false,"legendFormat":"序列化错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_codec_total{application_name=\"$application_name\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"序列化错误(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":16,"y":57},"id":39,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_unknown_failed_tota{application_name=\"$application_name\"}[2m])) >0","instant":false,"legendFormat":"未知原因失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_unknown_failed_total{application_name=\"$application_name\"}[2m])) by (instance,pod)>0","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"未知原因错误(作为消费者 2min)","type":"timeseries"}],"title":"应用调用详情（作为消费者）","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":20},"id":5,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":0,"y":21},"id":21,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_total{application_name=\"$application_name\"}[2m])) >0","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_total{application_name=\"$application_name\"}[2m])) by (instance,pod)>0","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"被调用总数(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":8,"y":21},"id":23,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_succeed_total{application_name=\"$application_name\"}[2m])) >0","instant":false,"legendFormat":"成功数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_succeed_total{application_name=\"$application_name\"}[2m])) by (instance,pod)>0","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"被调用成功(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":16,"y":21},"id":22,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_total{application_name=\"$application_name\"}[2m]))>0","instant":false,"legendFormat":"失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_total{application_name=\"$application_name\"}[2m])) by (instance,pod)>0","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"被调用失败(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":0,"y":31},"id":25,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_business_failed_total{application_name=\"$application_name\"}[2m]))>0","instant":false,"legendFormat":"业务原因错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_business_failed_total{application_name=\"$application_name\"} [2m]) )by(instance,pod)>0\r\n","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"业务原因错误(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":8,"y":31},"id":26,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_timeout_total{application_name=\"$application_name\"}[2m]))","instant":false,"legendFormat":"超时总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_timeout_total{application_name=\"$application_name\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"超时错误(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":16,"y":31},"id":28,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_service_unavailable_total{application_name=\"$application_name\"}[2m]))","instant":false,"legendFormat":"服务不可用总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_service_unavailable_total{application_name=\"$application_name\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"服务不可用错误(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":0,"y":41},"id":29,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_network_total{application_name=\"$application_name\"}[2m]))>0","instant":false,"legendFormat":"网络错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(label_replace(increase(dubbo_provider_requests_failed_network_total{application_name=\"$application_name\"}[2m]), \"instance\", \"$1\", \"instance\", \"(.*):.*\")) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"网络错误(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":8,"y":41},"id":30,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_codec_total{application_name=\"$application_name\"}[2m])) >0","instant":false,"legendFormat":"序列化错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_codec_total{application_name=\"$application_name\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"序列化错误(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":16,"y":41},"id":27,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_unknown_failed_total{application_name=\"$application_name\"}[2m])) >0","instant":false,"legendFormat":"未知原因失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_unknown_failed_total{application_name=\"$application_name\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"未知原因错误(作为生产者 2min)","type":"timeseries"}],"title":"应用被调用详情（作为生产者）","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":21},"id":51,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":13,"x":0,"y":22},"id":49,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p95{application_name=\"$application_name\",}>0)","hide":true,"instant":false,"legendFormat":"avgRT P95 ","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p95{application_name=\"$application_name\",}>0) by(instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{pod}","range":true,"refId":"B"}],"title":"调用 RT P95(作为消费者)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":11,"x":13,"y":22},"id":50,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p99{application_name=\"$application_name\",}>0)","hide":true,"instant":false,"legendFormat":"avg (RT P99)","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p99{application_name=\"$application_name\",}>0) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"调用 RT P99(作为消费者)","type":"timeseries"}],"title":"应用请求时延RT (Consumer)","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":22},"id":7,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":13,"x":0,"y":23},"id":10,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p95{application_name=\"$application_name\",}>0) by (instance,pod)","instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"A"}],"title":"RT P95(作为生产者)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":11,"x":13,"y":23},"id":11,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p99{application_name=\"$application_name\",}>0) by (instance,pod)","instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"A"}],"title":"响应平均时延 P99(Provider)","type":"timeseries"}],"title":"应用响应时延RT (Provider)","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":23},"id":54,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":9,"gradientMode":"hue","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineStyle":{"fill":"solid"},"lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"dark-purple"}]}},"overrides":[]},"gridPos":{"h":7,"w":12,"x":0,"y":24},"id":52,"interval":"30s","options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum(dubbo_registry_register_requests_total{application_name=\"$application_name\"})","format":"time_series","instant":false,"interval":"","legendFormat":"注册总次数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_registry_register_requests_succeed_total{application_name=\"$application_name\"})OR on() vector(0)","format":"time_series","hide":false,"legendFormat":"注册成功数","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum(dubbo_registry_register_requests_failed_total{application_name=\"$application_name\"})  OR on() vector(0)","hide":false,"instant":false,"legendFormat":"注册失败数","range":true,"refId":"C"}],"title":"注册实例次数","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":12,"x":12,"y":24},"id":53,"interval":"30s","options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"dubbo_register_rt_milliseconds_sum{application_name=\"$application_name\"}","format":"time_series","hide":false,"instant":false,"interval":"","legendFormat":"{{instance}}","range":true,"refId":"A"}],"title":"实例注册时长","type":"timeseries"}],"title":"注册中心","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":24},"id":61,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"只有启动成功的实例并接入监控的才会显示","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"align":"center","cellOptions":{"type":"json-view"},"inspect":false},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"dark-green"}]}},"overrides":[{"matcher":{"id":"byName","options":"Time"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"Value"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"application_version"},"properties":[{"id":"custom.width","value":151}]},{"matcher":{"id":"byName","options":"clusterName"},"properties":[{"id":"custom.width","value":107}]},{"matcher":{"id":"byName","options":"instance"},"properties":[{"id":"custom.width","value":133},{"id":"displayName","value":"ip"}]},{"matcher":{"id":"byName","options":"application_name"},"properties":[{"id":"custom.width","value":167}]}]},"gridPos":{"h":7,"w":10,"x":0,"y":139},"id":15,"options":{"cellHeight":"sm","footer":{"countRows":true,"enablePagination":true,"fields":[],"reducer":["count"],"show":false},"showHeader":true,"sortBy":[]},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"count (dubbo_application_info_total{application_name=\"$application_name\"}) by(application_name,instance,application_version,host,pod,clusterName)","format":"table","instant":true,"legendFormat":"实例总数","range":false,"refId":"A"}],"title":"实例","type":"table"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"有请求的接口才会展示","fieldConfig":{"defaults":{"color":{"mode":"fixed"},"custom":{"align":"center","cellOptions":{"type":"json-view"},"filterable":false,"inspect":true},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[{"matcher":{"id":"byName","options":"Time"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"Value"},"properties":[{"id":"custom.hidden","value":true}]}]},"gridPos":{"h":7,"w":7,"x":10,"y":139},"id":56,"options":{"cellHeight":"sm","footer":{"countRows":false,"enablePagination":true,"fields":["Value"],"reducer":["sum"],"show":true},"showHeader":true,"sortBy":[]},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"count by(interface,version) (dubbo_provider_requests_total{application_name=\"$application_name\",interface!~\"org.apache.dubbo.metrics.service.MetricsService|org.apache.dubbo.metadata.MetadataService\"})","format":"table","instant":true,"range":false,"refId":"A"}],"title":"提供接口","type":"table"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"有请求的接口才会展示","fieldConfig":{"defaults":{"color":{"mode":"fixed"},"custom":{"align":"center","cellOptions":{"type":"json-view"},"filterable":false,"inspect":true},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[{"matcher":{"id":"byName","options":"Time"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"Value"},"properties":[{"id":"custom.hidden","value":true}]}]},"gridPos":{"h":7,"w":7,"x":17,"y":139},"id":58,"options":{"cellHeight":"sm","footer":{"countRows":false,"enablePagination":true,"fields":["Value"],"reducer":["sum"],"show":true},"showHeader":true,"sortBy":[]},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"count by(interface,version) (dubbo_consumer_requests_total{application_name=\"$application_name\",interface!~\"org.apache.dubbo.metrics.service.MetricsService|org.apache.dubbo.metadata.MetadataService\"})","format":"table","instant":true,"range":false,"refId":"A"}],"title":"消费接口","type":"table"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"mappings":[],"noValue":"NAN"},"overrides":[]},"gridPos":{"h":5,"w":2,"x":0,"y":146},"id":55,"options":{"displayLabels":["name","value"],"legend":{"displayMode":"table","placement":"bottom","showLegend":true},"pieType":"pie","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"tooltip":{"mode":"single","sort":"desc"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"count by(application_version)(dubbo_application_info_total{application_name=\"$application_name\",instance=~\".*\"})","instant":true,"legendFormat":"{{application_version}}","range":false,"refId":"A"}],"title":"实例版本分布","type":"piechart"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"准确的提供接口数量","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"dark-green"}]}},"overrides":[]},"gridPos":{"h":5,"w":3,"x":2,"y":146},"id":16,"options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"text":{"titleSize":100},"textMode":"value"},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"count(count by(interface) (dubbo_provider_requests_total{application_name=\"$application_name\",interface!~\"org.apache.dubbo.metrics.service.MetricsService|org.apache.dubbo.metadata.MetadataService\"}))","format":"time_series","instant":true,"range":false,"refId":"A"}],"title":"提供接口数","type":"stat"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"准确的提供接口数量","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"dark-green"}]}},"overrides":[]},"gridPos":{"h":5,"w":3,"x":5,"y":146},"id":59,"options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"text":{"titleSize":100},"textMode":"value"},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"count(count by(interface) (dubbo_consumer_requests_total{application_name=\"$application_name\",interface!~\"org.apache.dubbo.metrics.service.MetricsService|org.apache.dubbo.metadata.MetadataService\"}))","format":"time_series","instant":true,"range":false,"refId":"A"}],"title":"消费接口数","type":"stat"},{"cards":{},"color":{"cardColor":"#b4ff00","colorScale":"sqrt","colorScheme":"interpolateOranges","exponent":0.5,"mode":"spectrum"},"dataFormat":"timeseries","datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false},"scaleDistribution":{"type":"linear"}}},"overrides":[]},"gridPos":{"h":12,"w":24,"x":0,"y":151},"heatmap":{},"hideZeroBuckets":false,"highlightCards":true,"id":47,"legend":{"show":false},"options":{"calculate":true,"calculation":{"xBuckets":{"mode":"size"},"yBuckets":{"mode":"size","scale":{"log":10,"type":"log"}}},"cellGap":0,"color":{"exponent":0.5,"fill":"dark-orange","mode":"scheme","reverse":false,"scale":"exponential","scheme":"Oranges","steps":64},"exemplars":{"color":"rgba(255,0,255,0.7)"},"filterValues":{"le":1e-9},"legend":{"show":true,"showLegend":true},"rowsFrame":{"layout":"le"},"tooltip":{"show":true,"yHistogram":true},"yAxis":{"axisPlacement":"right","decimals":1,"reverse":false,"unit":"ms"}},"pluginVersion":"10.0.1","reverseYBuckets":false,"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"histogram_quantile(0.9, sum(rate(dubbo_provider_rt_milliseconds_histogram_seconds_bucket{application_name=\"$application_name\",method=\"getItem\"}[2m])) by (le))","format":"heatmap","hide":false,"instant":false,"legendFormat":"__auto","range":true,"refId":"A"}],"title":"响应时延热点图 (Provider)","tooltip":{"show":true,"showHistogram":false},"transformations":[],"type":"heatmap","xAxis":{"show":true},"yAxis":{"format":"short","logBase":1,"show":true},"yBucketBound":"auto"}],"title":"deprecated","type":"row"}],"refresh":"1m","schemaVersion":38,"style":"dark","tags":["dubbo-mixin"],"templating":{"list":[{"current":{"selected":false,"text":"Prometheus","value":"Prometheus"},"hide":0,"includeAll":false,"multi":false,"name":"datasource","options":[],"query":"prometheus","refresh":1,"regex":"","skipUrlSync":false,"type":"datasource"},{"current":{"selected":false,"text":"shop-detail","value":"shop-detail"},"datasource":{"type":"prometheus","uid":"${datasource}"},"definition":"label_values(dubbo_application_info_total{},application_name)","hide":0,"includeAll":false,"multi":false,"name":"application_name","options":[],"query":{"query":"label_values(dubbo_application_info_total{},application_name)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":2,"regex":"","skipUrlSync":false,"sort":1,"type":"query"},{"allValue":".*","current":{"selected":true,"text":["All"],"value":["$__all"]},"datasource":{"type":"prometheus","uid":"${datasource}"},"definition":"label_values(dubbo_application_info_total{application_name=\"$application_name\"},instance)","hide":0,"includeAll":true,"multi":true,"name":"instance","options":[],"query":{"query":"label_values(dubbo_application_info_total{application_name=\"$application_name\"},instance)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":1,"regex":"","skipUrlSync":false,"sort":0,"type":"query"}]},"time":{"from":"now-15m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]},"timezone":"","title":"Dubbo-Applications","uid":"a0b114ca-edf7-4dfe-ac2c-34a4fc545fed","version":4,"weekStart":""}`}}
  {{- end }}
---
{{- $kubeTargetVersion := default .Capabilities.KubeVersion.GitVersion .Values.kubeTargetVersionOverride }}
{{- if and (or .Values.grafana.enabled .Values.grafana.forceDeployDashboards) (semverCompare ">=1.14.0-0" $kubeTargetVersion) (semverCompare "<9.9.9-9" $kubeTargetVersion) .Values.grafana.defaultDashboardsEnabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  namespace: {{ template "kube-prometheus-stack-grafana.namespace" . }}
  name: {{ printf "%s-%s" (include "kube-prometheus-stack.fullname" $) "dubbo-ins-metrics" | trunc 63 | trimSuffix "-" }}
  annotations:
{{ toYaml .Values.grafana.sidecar.dashboards.annotations | indent 4 }}
  labels:
    {{- if $.Values.grafana.sidecar.dashboards.label }}
    {{ $.Values.grafana.sidecar.dashboards.label }}: {{ ternary $.Values.grafana.sidecar.dashboards.labelValue "1" (not (empty $.Values.grafana.sidecar.dashboards.labelValue)) | quote }}
    {{- end }}
    app: {{ template "kube-prometheus-stack.name" $ }}-grafana
{{ include "kube-prometheus-stack.labels" $ | indent 4 }}
data:
  dubbo-ins-metrics.json: |-
    {{`{"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":6,"links":[],"liveNow":false,"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":1,"panels":[],"title":"实例概览","type":"row"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":1,"min":0,"noValue":"无","thresholds":{"mode":"percentage","steps":[{"color":"dark-red","value":null},{"color":"dark-yellow","value":90},{"color":"dark-green","value":95}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":7,"w":3,"x":0,"y":1},"id":10,"options":{"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":true,"showThresholdMarkers":true,"text":{}},"pluginVersion":"10.0.3","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"(sum(dubbo_consumer_requests_succeed_total{application_name=\"$application_name\",instance=\"$instance\"})   / sum(dubbo_consumer_requests_total{application_name=\"$application_name\",instance=\"$instance\"})  ) OR on() vector(NAN)","hide":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"调用成功率（作为消费者）","type":"gauge"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":1,"min":0,"noValue":"No data","thresholds":{"mode":"percentage","steps":[{"color":"dark-red","value":null},{"color":"dark-yellow","value":90},{"color":"dark-green","value":95}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":7,"w":3,"x":3,"y":1},"id":9,"options":{"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":true,"showThresholdMarkers":true,"text":{}},"pluginVersion":"10.0.3","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (dubbo_provider_requests_succeed_total{application_name=\"$application_name\",instance=\"$instance\"}) / sum (dubbo_provider_requests_total{application_name=\"$application_name\",instance=\"$instance\"}) OR  vector(0)","hide":false,"instant":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"被调用成功率（作为生产者）","type":"gauge"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":6,"x":6,"y":1},"id":7,"interval":"1s","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":true,"expr":"sum(dubbo_provider_qps_total{application_name=\"$application_name\",instance=\"$instance\"})","instant":false,"legendFormat":"提供端QPS","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_consumer_qps_total{application_name=\"$application_name\",instance=\"$instance\"})","hide":false,"instant":false,"legendFormat":"消费者QPS","range":true,"refId":"B"}],"title":"QPS","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":7,"w":6,"x":12,"y":1},"id":16,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_consumer_rt_avg_milliseconds_aggregate{application_name=\"$application_name\",instance=\"$instance\",}>0)","instant":false,"legendFormat":"消费者RT","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_provider_rt_avg_milliseconds_aggregate{application_name=\"$application_name\",instance=\"$instance\",}>0)","hide":false,"instant":false,"legendFormat":"提供端RT","range":true,"refId":"C"}],"title":"RT","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":6,"x":18,"y":1},"id":51,"interval":"1s","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum (dubbo_provider_requests_processing{instance=\"$instance\"} ) OR vector (0)","instant":false,"legendFormat":"生产者处理并发量","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_consumer_requests_processing{instance=\"$instance\"}) OR vector (0)","hide":false,"instant":false,"legendFormat":"消费者调用并发量","range":true,"refId":"B"}],"title":"并发","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[{"options":{"":{"index":0,"text":"{{.Value}}ms"}},"type":"value"}],"thresholds":{"mode":"percentage","steps":[{"color":"dark-green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":0,"y":8},"id":23,"interval":"15","options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"/^实时时延$/","values":false},"text":{},"textMode":"auto"},"pluginVersion":"10.0.3","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_provider_rt_milliseconds_last{application_name=\"$application_name\",instance=\"$instance\"}","instant":false,"legendFormat":"实时时延","range":true,"refId":"A"}],"title":"最近被调用RT（作为生产者）","type":"stat"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":9,"x":6,"y":8},"id":5,"interval":"15","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_total{application_name=\"$application_name\",instance=\"$instance\"}[2m])) OR vector(0)","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_succeed_total{application_name=\"$application_name\",instance=\"$instance\"}[2m]) ) OR vector(0)","hide":false,"instant":false,"legendFormat":"成功数","range":true,"refId":"D"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_total{application_name=\"$application_name\",instance=\"$instance\"}[2m]) ) OR vector(0)","hide":false,"instant":false,"legendFormat":"失败数","range":true,"refId":"E"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_business_failed_total{application_name=\"$application_name\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"业务原因失败数","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_timeout_total{application_name=\"$application_name\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"请求超时数","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_unknown_failed_tota{application_name=\"$application_name\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"未知原因失败数","range":true,"refId":"F"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_service_unavailable_total{application_name=\"$application_name\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"服务不可用数","range":true,"refId":"G"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_network_total{application_name=\"$application_name\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"网络错误数","range":true,"refId":"H"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_codec_total{application_name=\"$application_name\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"序列化错误数","range":true,"refId":"I"}],"title":"实例调用(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":9,"x":15,"y":8},"id":4,"interval":"15","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_total{application_name=\"$application_name\",instance=\"$instance\"}[2m])) OR vector(0)","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_succeed_total{application_name=\"$application_name\",instance=\"$instance\"}[2m]) ) OR vector(0)","hide":false,"instant":false,"legendFormat":"成功数","range":true,"refId":"D"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_total{application_name=\"$application_name\",instance=\"$instance\"}[2m]) ) OR vector(0)","hide":false,"instant":false,"legendFormat":"失败数","range":true,"refId":"E"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_business_failed_total{application_name=\"$application_name\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"业务原因失败数","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_timeout_total{application_name=\"$application_name\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"超时数","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_unknown_failed_tota{application_name=\"$application_name\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"未知原因失败数","range":true,"refId":"F"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_failed_service_unavailable_total{application_name=\"$application_name\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"服务不可用数","range":true,"refId":"G"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_failed_network_total{application_name=\"$application_name\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"网络错误数","range":true,"refId":"H"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_failed_codec_total{application_name=\"$application_name\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"序列化错误数","range":true,"refId":"I"}],"title":"实例被调用(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[{"options":{"":{"index":0,"text":"{{.Value}}ms"}},"type":"value"}],"thresholds":{"mode":"percentage","steps":[{"color":"dark-green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":0,"y":13},"id":28,"interval":"5","options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"/^实时时延$/","values":false},"text":{},"textMode":"auto"},"pluginVersion":"10.0.3","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_consumer_rt_milliseconds_last{application_name=\"$application_name\",instance=\"$instance\"}","instant":false,"legendFormat":"实时时延","range":true,"refId":"A"}],"title":"最近调用时延（作为消费者）","type":"stat"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":18},"id":6,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":12,"x":0,"y":44},"id":29,"interval":"1s","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":true,"expr":"sum(dubbo_provider_qps_total{application_name=\"$application_name\",instance=\"$instance\",}) by (interface)","instant":false,"legendFormat":"{{interface}}","range":true,"refId":"A"}],"title":"提供接口QPS（作为生产者）","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":12,"x":12,"y":44},"id":30,"interval":"1s","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":true,"expr":"sum(dubbo_consumer_qps_total{application_name=\"$application_name\",instance=\"$instance\",}) by (interface)","instant":false,"legendFormat":"{{interface}}","range":true,"refId":"A"}],"title":"依赖接口QPS（作为消费者）","transformations":[],"type":"timeseries"}],"title":"实例QPS 详情（生产者&消费者）","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":19},"id":38,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":45},"id":45,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_total{instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"请求总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_total{instance=\"$instance\",}[2m])) by (interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"请求总数(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":45},"id":46,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_succeed_total{instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"请求成功总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_succeed_total{instance=\"$instance\",}[2m])) by (interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"请求成功(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":45},"id":47,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_total{instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"请求失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_total{instance=\"$instance\",}[2m])) by (interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"请求失败(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":53},"id":39,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_business_failed_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) by(interface) or vector(0)","instant":false,"legendFormat":"业务原因错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_business_failed_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) by(interface)","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"业务原因错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":53},"id":40,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_timeout_total{application_name=\"$application_name\",instance=\"$instance\",}[2m]))  or vector(0)","instant":false,"legendFormat":"超时错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_timeout_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) by(interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"超时错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":53},"id":42,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_service_unavailable_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"服务不可用错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_service_unavailable_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) by(interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"服务不可用错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":61},"id":43,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_network_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"网络错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_network_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) by(interface)  ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"网络错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":61},"id":44,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_codec_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"序列化错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_codec_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) by(interface)  ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"序列化错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":61},"id":41,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_unknown_failed_tota{application_name=\"$application_name\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"未知原因错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_unknown_failed_tota{application_name=\"$application_name\",instance=\"$instance\",}[2m])) by(interface)","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"未知原因错误(2min)","type":"timeseries"}],"title":"实例被调用详情（作为生产者）","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":20},"id":31,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":46},"id":48,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_total{instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"调用总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_total{instance=\"$instance\",}[2m])) by (interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"调用总数(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":46},"id":49,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_succeed_total{instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"调用成功总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_succeed_total{instance=\"$instance\",}[2m])) by (interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"调用成功(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":46},"id":50,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_total{instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"调用失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_total{instance=\"$instance\",}[2m])) by (interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"调用失败(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[{"__systemRef":"hideSeriesFrom","matcher":{"id":"byNames","options":{"mode":"exclude","names":["Value"],"prefix":"All except:","readOnly":true}},"properties":[{"id":"custom.hideFrom","value":{"legend":false,"tooltip":false,"viz":true}}]}]},"gridPos":{"h":8,"w":8,"x":0,"y":54},"id":32,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_business_failed_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"业务原因错误","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_business_failed_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) by(interface)","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"业务原因错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":54},"id":33,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_timeout_total{application_name=\"$application_name\",instance=\"$instance\",}[2m]))  or vector(0)","instant":false,"legendFormat":"超时错误","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_timeout_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) by(interface)","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"超时错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":54},"id":35,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_service_unavailable_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"服务不可用","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_service_unavailable_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) by(interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"服务不可用错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":62},"id":36,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_network_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"网络错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_network_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) by(interface)","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"网络错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":62},"id":37,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_codec_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"序列化错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_codec_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) by(interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"序列化错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":62},"id":34,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_unknown_failed_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) by(interface) or vector(0)","instant":false,"legendFormat":"未知原因错误","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_unknown_failed_total{application_name=\"$application_name\",instance=\"$instance\",}[2m])) by(interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"未知原因错误(2min)","type":"timeseries"}],"title":"实例调用详情（作为消费者）","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":21},"id":8,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为生产者，响应上游服务的95%的请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":0,"y":47},"id":13,"interval":"15","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p95{application_name=\"$application_name\",instance=\"$instance\",}>0)","instant":false,"legendFormat":"avgRT P95 ","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_provider_rt_milliseconds_p95{application_name=\"$application_name\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}.{{method}} P95 RT","range":true,"refId":"B"}],"title":"RT P95","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为生产者，响应上游服务的99%的请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":12,"y":47},"id":14,"interval":"15","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p99{application_name=\"$application_name\",instance=\"$instance\",}>0)","instant":false,"legendFormat":"avgRT P99","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_provider_rt_milliseconds_p99{application_name=\"$application_name\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}.{{method}} P99 RT","range":true,"refId":"B"}],"title":"RT P99","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为生产者，响应上游服务请求的最小RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":0,"y":56},"id":15,"interval":"15","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"min(dubbo_provider_rt_min_milliseconds_aggregate{application_name=\"$application_name\",instance=\"$instance\"}>0)","hide":true,"instant":false,"legendFormat":"minRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_provider_rt_min_milliseconds_aggregate{application_name=\"$application_name\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}.{{method}}","range":true,"refId":"A"}],"title":"min RT","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为生产者，响应上游服务请求的最大RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":12,"y":56},"id":12,"interval":"15","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"max(dubbo_provider_rt_max_milliseconds_aggregate{application_name=\"$application_name\",instance=\"$instance\"}>0)","hide":true,"instant":false,"legendFormat":"maxRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_provider_rt_min_milliseconds_aggregate{application_name=\"$application_name\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}.{{method}}","range":true,"refId":"A"}],"title":"max RT","type":"timeseries"}],"title":"实例 RT 详情(作为生产者)","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":22},"id":17,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为消费者，调用下游服务时95%的请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":0,"y":48},"id":18,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p95{application_name=\"$application_name\",instance=\"$instance\",}>0)","hide":true,"instant":false,"legendFormat":"avgRT P95 ","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_consumer_rt_milliseconds_p95{application_name=\"$application_name\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"RT P95","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为消费者，调用下游服务时99%的请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":12,"y":48},"id":19,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p99{application_name=\"$application_name\",instance=\"$instance\",}>0)","instant":false,"legendFormat":"avgRT P99","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_consumer_rt_milliseconds_p99{application_name=\"$application_name\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"RT P99(Consumer)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为消费者，调用下游服务的最小RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":0,"y":57},"id":21,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"min(dubbo_consumer_rt_min_milliseconds_aggregate{application_name=\"$application_name\",instance=\"$instance\",}>0)","hide":true,"instant":false,"legendFormat":"minRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_consumer_rt_min_milliseconds_aggregate{application_name=\"$application_name\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"A"}],"title":"min RT ","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为消费者，调用下游服务的最大RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":12,"y":57},"id":20,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"max(dubbo_consumer_rt_max_milliseconds_aggregate{application_name=\"$application_name\",instance=\"$instance\"}>0)","hide":true,"instant":false,"legendFormat":"maxRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_consumer_rt_max_milliseconds_aggregate{application_name=\"$application_name\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"A"}],"title":"max RT","type":"timeseries"}],"title":"实例 RT 详情 (作为消费者)","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":23},"id":27,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"continuous-GrYlRd"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":4,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":12,"x":0,"y":49},"id":22,"options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"dubbo_thread_pool_core_size{application_name=\"$application_name\",instance=\"$instance\",thread_pool_name!~\".*MetadataService.*|.*MetricsService.*\"}","format":"time_series","instant":false,"interval":"","legendFormat":"{{thread_pool_name}}","range":true,"refId":"A"}],"title":"线程池核心","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"continuous-GrYlRd"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":4,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":12,"x":12,"y":49},"id":24,"options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"dubbo_thread_pool_active_size{application_name=\"$application_name\",instance=\"$instance\",thread_pool_name!~\".*MetadataService.*|.*MetricsService.*\"}","format":"time_series","instant":false,"interval":"","legendFormat":"{{thread_pool_name}}","range":true,"refId":"A"}],"title":"线程池活跃","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"continuous-GrYlRd"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":4,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":12,"x":0,"y":55},"id":25,"options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"dubbo_thread_pool_queue_size{application_name=\"$application_name\",instance=\"$instance\",thread_pool_name!~\".*MetadataService.*|.*MetricsService.*\"}","format":"time_series","instant":false,"interval":"","legendFormat":"{{thread_pool_name}}","range":true,"refId":"A"}],"title":"线程池队列","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"continuous-GrYlRd"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":4,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":12,"x":12,"y":55},"id":26,"options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"dubbo_thread_pool_largest_size{application_name=\"$application_name\",instance=\"$instance\",thread_pool_name!~\".*MetadataService.*|.*MetricsService.*\"}","format":"time_series","instant":false,"interval":"","legendFormat":"{{thread_pool_name}}","range":true,"refId":"A"}],"title":"线程池最大","type":"timeseries"}],"title":"Dubbo线程池","type":"row"}],"refresh":"1m","schemaVersion":38,"style":"dark","tags":["dubbo-mixin"],"templating":{"list":[{"current":{"selected":false,"text":"Prometheus","value":"Prometheus"},"hide":0,"includeAll":false,"multi":false,"name":"datasource","options":[],"query":"prometheus","queryValue":"","refresh":1,"regex":"","skipUrlSync":false,"type":"datasource"},{"current":{"selected":false,"text":"shop-detail","value":"shop-detail"},"datasource":{"type":"prometheus","uid":"${datasource}"},"definition":"label_values(dubbo_application_info_total{},application_name)","hide":0,"includeAll":false,"multi":false,"name":"application_name","options":[],"query":{"query":"label_values(dubbo_application_info_total{},application_name)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":1,"regex":"","skipUrlSync":false,"sort":0,"type":"query"},{"current":{"selected":false,"text":"192.168.20.0:22222","value":"192.168.20.0:22222"},"datasource":{"type":"prometheus","uid":"${datasource}"},"definition":"label_values(dubbo_application_info_total{application_name=\"$application_name\"},instance)","hide":0,"includeAll":false,"multi":false,"name":"instance","options":[],"query":{"query":"label_values(dubbo_application_info_total{application_name=\"$application_name\"},instance)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":2,"regex":"","skipUrlSync":false,"sort":0,"type":"query"}]},"time":{"from":"now-5m","to":"now"},"timepicker":{},"timezone":"","title":"Dubbo-Instance","uid":"dcf5defe-d198-4704-9edf-6520838880e9","version":6,"weekStart":""}`}}
  {{- end }}
---
{{- $kubeTargetVersion := default .Capabilities.KubeVersion.GitVersion .Values.kubeTargetVersionOverride }}
{{- if and (or .Values.grafana.enabled .Values.grafana.forceDeployDashboards) (semverCompare ">=1.14.0-0" $kubeTargetVersion) (semverCompare "<9.9.9-9" $kubeTargetVersion) .Values.grafana.defaultDashboardsEnabled }}
apiVersion: v1
kind: ConfigMap
metadata:
  namespace: {{ template "kube-prometheus-stack-grafana.namespace" . }}
  name: {{ printf "%s-%s" (include "kube-prometheus-stack.fullname" $) "dubbo-svc-metrics" | trunc 63 | trimSuffix "-" }}
  annotations:
{{ toYaml .Values.grafana.sidecar.dashboards.annotations | indent 4 }}
  labels:
    {{- if $.Values.grafana.sidecar.dashboards.label }}
    {{ $.Values.grafana.sidecar.dashboards.label }}: {{ ternary $.Values.grafana.sidecar.dashboards.labelValue "1" (not (empty $.Values.grafana.sidecar.dashboards.labelValue)) | quote }}
    {{- end }}
    app: {{ template "kube-prometheus-stack.name" $ }}-grafana
{{ include "kube-prometheus-stack.labels" $ | indent 4 }}
data:
  dubbo-svc-metrics.json: |-
    {{`{"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":7,"links":[],"liveNow":false,"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":5,"panels":[],"title":"接口总览","type":"row"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":1,"min":0,"noValue":"无","thresholds":{"mode":"percentage","steps":[{"color":"dark-red","value":null},{"color":"dark-yellow","value":95},{"color":"dark-green","value":100}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":7,"w":3,"x":0,"y":1},"id":1,"options":{"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":true,"showThresholdMarkers":true,"text":{}},"pluginVersion":"10.0.3","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"(sum(dubbo_consumer_requests_succeed_total{interface=\"$interface\",method=~\"$method\"})   / sum(dubbo_consumer_requests_total{interface=\"$interface\",method=~\"$method\"})  ) OR on() vector(NAN)","hide":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"调用成功率（Consumer）","type":"gauge"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":1,"min":0,"noValue":"No data","thresholds":{"mode":"percentage","steps":[{"color":"dark-red","value":null},{"color":"dark-yellow","value":95},{"color":"dark-green","value":100}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":7,"w":3,"x":3,"y":1},"id":2,"options":{"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":true,"showThresholdMarkers":true,"text":{}},"pluginVersion":"10.0.3","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"(sum(dubbo_provider_requests_succeed_total{interface=\"$interface\",method=~\"$method\"})   / sum(dubbo_provider_requests_total{interface=\"$interface\",method=~\"$method\"})  ) OR on() vector(NAN)","hide":false,"instant":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"被调用成功率（Provider）","type":"gauge"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":6,"x":6,"y":1},"id":3,"interval":"1s","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_consumer_qps_total{interface=\"$interface\",method=~\"$method\"})","instant":false,"legendFormat":"调用（消费者视角）","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_provider_qps_total{interface=\"$interface\",method=~\"$method\"})","hide":false,"instant":false,"legendFormat":"被调用（生产者视角）","range":true,"refId":"B"}],"title":"QPS","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":7,"w":6,"x":12,"y":1},"id":25,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"asc"}},"pluginVersion":"8.2.5","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_avg_milliseconds_aggregate{interface=\"$interface\",method=~\"$method\"}>0)","format":"time_series","instant":false,"interval":"","legendFormat":"调用 avg RT","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_provider_rt_avg_milliseconds_aggregate{interface=\"$interface\",method=~\"$method\"}>0)","hide":false,"instant":false,"legendFormat":"被调用 avg RT","range":true,"refId":"B"}],"title":"RT","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":6,"x":18,"y":1},"id":26,"interval":"1s","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum (dubbo_provider_requests_processing{interface=\"$interface\"} ) OR vector (0)","instant":false,"legendFormat":"生产者处理并发量","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_consumer_requests_processing{interface=\"$interface\"}) OR vector (0)","hide":false,"instant":false,"legendFormat":"消费者调用并发量","range":true,"refId":"B"}],"title":"并发","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"percentage","steps":[{"color":"dark-green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":0,"y":8},"id":4,"options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"/^实时时延$/","values":false},"textMode":"auto"},"pluginVersion":"10.0.3","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_provider_rt_milliseconds_last{interface=\"$interface\",method=~\"$method\"})","instant":false,"legendFormat":"实时时延","range":true,"refId":"A"}],"title":"最近被调用时延（RT）","type":"stat"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":9,"x":6,"y":8},"id":28,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_total{interface=\"$interface\"}[2m])>0) OR vector(0)","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_succeed_total{interface=\"$interface\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"成功数","range":true,"refId":"D"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_total{interface=\"$interface\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"请求失败数","range":true,"refId":"E"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_business_failed_total{interface=\"$interface\"}[2m])>0)  OR vector(0)","hide":false,"instant":false,"legendFormat":"业务原因失败数","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_timeout_total{interface=\"$interface\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"超时数","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_unknown_failed_tota{interface=\"$interface\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"未知原因失败数","range":true,"refId":"F"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_service_unavailable_total{interface=\"$interface\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"服务不可用数","range":true,"refId":"G"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_network_total{interface=\"$interface\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"网络错误数","range":true,"refId":"H"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_codec_total{interface=\"$interface\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"序列化错误数","range":true,"refId":"I"}],"title":"被调用总览(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":9,"x":15,"y":8},"id":10,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_total{interface=\"$interface\"}[2m])>0) OR vector(0)","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_succeed_total{interface=\"$interface\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"成功数","range":true,"refId":"D"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_total{interface=\"$interface\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"请求失败数","range":true,"refId":"E"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_business_failed_total{interface=\"$interface\"}[2m])>0)  OR vector(0)","hide":false,"instant":false,"legendFormat":"业务原因失败数","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_timeout_total{interface=\"$interface\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"超时数","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_unknown_failed_tota{interface=\"$interface\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"未知原因失败数","range":true,"refId":"F"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_service_unavailable_total{interface=\"$interface\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"服务不可用数","range":true,"refId":"G"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_network_total{interface=\"$interface\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"网络错误数","range":true,"refId":"H"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_codec_total{interface=\"$interface\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"编解码错误数","range":true,"refId":"I"}],"title":"调用总览(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"percentage","steps":[{"color":"dark-green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":0,"y":13},"id":27,"options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"/^实时时延$/","values":false},"textMode":"auto"},"pluginVersion":"10.0.3","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_consumer_rt_milliseconds_last{interface=\"$interface\",method=~\"$method\"})","instant":false,"legendFormat":"实时时延","range":true,"refId":"A"}],"title":"最近调用时延（RT）","type":"stat"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":18},"id":6,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":12,"x":0,"y":3},"id":7,"interval":"1s","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":true,"expr":"sum(dubbo_provider_qps_total{interface=\"$interface\"}) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"被调用QPS （生产者视角）","transformations":[],"type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":12,"x":12,"y":3},"id":8,"interval":"1s","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":true,"expr":"sum(dubbo_consumer_qps_total{interface=\"$interface\"}) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"调用QPS（消费者视角）","type":"timeseries"}],"title":"接口QPS详情（生产者&消费者）","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":19},"id":38,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":20},"id":39,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_total{interface=\"$interface\"}[2m])) or vector(0)","instant":false,"legendFormat":"请求总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_total{interface=\"$interface\",method=~\"$method\"}[2m])) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求总数(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":20},"id":40,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_succeed_total{interface=\"$interface\"}[2m])) or vector(0) ","instant":false,"legendFormat":"请求成功总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_succeed_total{interface=\"$interface\",method=~\"$method\"}[2m])>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求成功(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":20},"id":41,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_total{interface=\"$interface\"}[2m])) or vector(0)","instant":false,"legendFormat":"请求失败数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_total{interface=\"$interface\",method=~\"$method\"}[2m])>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求失败(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":28},"id":42,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_business_failed_total{interface=\"$interface\"}[2m])) or vector(0)","instant":false,"legendFormat":"业务原因错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_business_failed_total{interface=\"$interface\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"业务原因错误(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":28},"id":43,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_timeout_total{interface=\"$interface\"}[2m])) OR vector(0)","instant":false,"legendFormat":"请求超时总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_timeout_total{interface=\"$interface\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求超时错误(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":28},"id":44,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_service_unavailable_total{interface=\"$interface\"}[2m])) ","instant":false,"legendFormat":"服务不可用总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_service_unavailable_total{interface=\"$interface\",method=~\"$method\"}[2m])) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"服务不可用错误(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":36},"id":45,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_network_total{interface=\"$interface\"}[2m])) OR vector(0)","instant":false,"legendFormat":"网络错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_network_total{interface=\"$interface\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"网络错误(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":36},"id":46,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_codec_total{interface=\"$interface\"}[2m])) OR vector(0)","instant":false,"legendFormat":"序列化错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_codec_total{interface=\"$interface\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"序列化错误(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":36},"id":47,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_unknown_failed_total{interface=\"$interface\"}[2m])) OR vector(0)","instant":false,"legendFormat":"未知原因失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_unknown_failed_total{interface=\"$interface\",method=~\"method\"}[2m])) by (mehtod)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"未知原因错误(生产者视角 2min)","type":"timeseries"}],"title":"接口被调用详情（生产者详情）","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":20},"id":9,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":4},"id":12,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_total{interface=\"$interface\"}[2m])) or vector(0)","instant":false,"legendFormat":"请求总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_total{interface=\"$interface\",method=~\"$method\"}[2m])) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求总数(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":4},"id":13,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_succeed_total{interface=\"$interface\"}[2m])) or vector(0) ","instant":false,"legendFormat":"请求成功数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_succeed_total{interface=\"$interface\",method=~\"$method\"}[2m])>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求成功(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":4},"id":14,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_total{interface=\"$interface\"}[2m])) or vector(0)","instant":false,"legendFormat":"请求失败数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_total{interface=\"$interface\",method=~\"$method\"}[2m])>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求失败(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":12},"id":11,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_business_failed_total{interface=\"$interface\"}[2m])) or vector(0)","instant":false,"legendFormat":"业务原因错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_business_failed_total{interface=\"$interface\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"业务原因错误(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":12},"id":16,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_timeout_total{interface=\"$interface\"}[2m])) OR vector(0)","instant":false,"legendFormat":"请求超时总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_timeout_total{interface=\"$interface\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求超时错误(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":12},"id":18,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_service_unavailable_total{interface=\"$interface\"}[2m])) ","instant":false,"legendFormat":"服务不可用总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_service_unavailable_total{interface=\"$interface\",method=~\"$method\"}[2m])) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"服务不可用错误(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":20},"id":19,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_network_total{interface=\"$interface\"}[2m])) OR vector(0)","instant":false,"legendFormat":"网络错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_network_total{interface=\"$interface\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"网络错误(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":20},"id":20,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_codec_total{interface=\"$interface\"}[2m])) OR vector(0)","instant":false,"legendFormat":"序列化错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_codec_total{interface=\"$interface\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"序列化错误(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":20},"id":17,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_unknown_failed_total{interface=\"$interface\"}[2m])) OR vector(0)","instant":false,"legendFormat":"未知原因失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_unknown_failed_total{interface=\"$interface\",method=~\"method\"}[2m])) by (mehtod)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"未知原因错误(消费者视角 2min)","type":"timeseries"}],"title":"接口调用详情（消费者视角）","type":"row"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":21},"id":33,"panels":[],"title":"接口RT详情（生产者视角）","type":"row"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"生产者响应 此接口的95%请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":22},"id":34,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p95{interface=\"$interface\"}>0)","hide":true,"instant":false,"legendFormat":"avgRT P95 ","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p95{interface=\"$interface\",method=~\"$method\"}>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"RT P95","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"生产者响应 此接口的99%请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":22},"id":35,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p99{interface=\"$interface\"}>0)","hide":true,"instant":false,"legendFormat":"avgRT P95 ","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p99{interface=\"$interface\",method=~\"$method\"}>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"RT P99","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"生产者响应此接口请求的最小RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[{"__systemRef":"hideSeriesFrom","matcher":{"id":"byNames","options":{"mode":"exclude","names":["getItem"],"prefix":"All except:","readOnly":true}},"properties":[{"id":"custom.hideFrom","value":{"legend":false,"tooltip":false,"viz":true}}]}]},"gridPos":{"h":9,"w":12,"x":0,"y":30},"id":36,"interval":"15","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"min(dubbo_provider_rt_min_milliseconds_aggregate{interface=\"$interface\"}>0)","hide":true,"instant":false,"legendFormat":"minRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_provider_rt_min_milliseconds_aggregate{interface=\"$interface\",method=~\"$method\"}>0) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"A"}],"title":"min RT","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"生产者响应此接口请求的最大RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[{"__systemRef":"hideSeriesFrom","matcher":{"id":"byNames","options":{"mode":"exclude","names":["getItem"],"prefix":"All except:","readOnly":true}},"properties":[{"id":"custom.hideFrom","value":{"legend":false,"tooltip":false,"viz":true}}]}]},"gridPos":{"h":9,"w":12,"x":12,"y":30},"id":37,"interval":"15","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"min(dubbo_provider_rt_max_milliseconds_aggregate{interface=\"$interface\"}>0)","hide":true,"instant":false,"legendFormat":"minRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_provider_rt_max_milliseconds_aggregate{interface=\"$interface\",method=~\"$method\"}>0) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"A"}],"title":" max RT","type":"timeseries"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":39},"id":23,"panels":[],"title":"接口 RT详情（消费者视角）","type":"row"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"消费者调用此接口时95%的请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":40},"id":29,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p95{interface=\"$interface\"}>0)","hide":true,"instant":false,"legendFormat":"avgRT P95 ","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p95{interface=\"$interface\",method=~\"$method\"}>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"RT P95","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"消费者调用此接口时99%的请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":40},"id":30,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p99{interface=\"$interface\"}>0)","hide":true,"instant":false,"legendFormat":"avgRT P95 ","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p99{interface=\"$interface\",method=~\"$method\"}>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"RT P99","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"消费者调用此接口的最小RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":0,"y":48},"id":31,"interval":"15","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"min(dubbo_consumer_rt_min_milliseconds_aggregate{interface=\"$interface\"}>0)","hide":true,"instant":false,"legendFormat":"minRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_consumer_rt_min_milliseconds_aggregate{interface=\"$interface\",method=~\"$method\"}>0) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"A"}],"title":"min RT","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"消费者调用此接口最大RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":12,"y":48},"id":32,"interval":"15","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"min(dubbo_consumer_rt_max_milliseconds_aggregate{interface=\"$interface\"}>0)","hide":true,"instant":false,"legendFormat":"minRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_consumer_rt_max_milliseconds_aggregate{interface=\"$interface\",method=~\"$method\"}>0) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"A"}],"title":"max RT","type":"timeseries"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":57},"id":24,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"fixed"},"custom":{"align":"center","cellOptions":{"type":"json-view"},"filterable":false,"inspect":true},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[{"matcher":{"id":"byName","options":"Time"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"Value"},"properties":[{"id":"custom.hidden","value":true}]}]},"gridPos":{"h":8,"w":4,"x":0,"y":41},"id":21,"options":{"cellHeight":"sm","footer":{"countRows":false,"enablePagination":true,"fields":["Value"],"reducer":["sum"],"show":true},"showHeader":true,"sortBy":[]},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"count by(method) (dubbo_provider_requests_total{interface=\"$interface\"})","format":"table","instant":true,"range":false,"refId":"A"}],"title":"接口方法","type":"table"}],"title":"deprecated","type":"row"}],"refresh":"","schemaVersion":38,"style":"dark","tags":["dubbo-mixin"],"templating":{"list":[{"current":{"selected":false,"text":"Prometheus","value":"Prometheus"},"hide":0,"includeAll":false,"multi":false,"name":"datasource","options":[],"query":"prometheus","queryValue":"","refresh":1,"regex":"","skipUrlSync":false,"type":"datasource"},{"current":{"selected":false,"text":"org.apache.dubbo.samples.CommentService","value":"org.apache.dubbo.samples.CommentService"},"datasource":{"type":"prometheus","uid":"${datasource}"},"definition":"label_values(dubbo_provider_requests_total{},interface)","description":"接口名","hide":0,"includeAll":false,"label":"interface","multi":false,"name":"interface","options":[],"query":{"query":"label_values(dubbo_provider_requests_total{},interface)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":2,"regex":"","skipUrlSync":false,"sort":1,"type":"query"},{"allValue":".*","current":{"selected":true,"text":["All"],"value":["$__all"]},"datasource":{"type":"prometheus","uid":"${datasource}"},"definition":"label_values(dubbo_provider_requests_total{interface=\"$interface\"},method)","hide":0,"includeAll":true,"multi":true,"name":"method","options":[],"query":{"query":"label_values(dubbo_provider_requests_total{interface=\"$interface\"},method)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":2,"regex":"","skipUrlSync":false,"sort":2,"type":"query"}]},"time":{"from":"now-5m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"]},"timezone":"","title":"Dubbo-Service","uid":"ec689613-b4a1-45b1-b8bd-9d557059f970","version":5,"weekStart":""}`}}
  {{- end }}