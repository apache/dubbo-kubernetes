import{u as Y}from"./index-37m6CaHp.js";import{d as q,u as G,b as H,r as V,g as Z,U as x,Q as D,f as c,c as o,t,e as n,o as u,J as y,z as r,B as l,h as b,W as h,v as S,K as P,F as A,y as E,X as ee,_ as oe}from"./index-WfxyH1kR.js";import{g as te}from"./instance-w71XpWNN.js";import{f as W}from"./DateUtil-ZKMmY9aQ.js";import"./request-2cLtQ4vm.js";const le={class:"__container_instance_detail"},ae={class:"white_space"},se={class:"white_space"},re={class:"white_space"},pe=q({__name:"detail",setup(de){const k=G(),F=H(),v=V({}),{appContext:{config:{globalProperties:M}}}=Z();x("20");const e=V({});D(async()=>{const{appName:a,pathId:p}=k.params;let s={instanceName:a,instanceIP:p};v.detail=await te(s),Object.assign(e,v.detail.data)});const j=()=>{F.push({path:"/resources/applications/detail",params:{pathId:k.params.pathId}})},z=Y().toClipboard;function f(a){ee.success(M.$t("messageDomain.success.copy")),z(a)}const $=a=>a?"开启":"关闭";return(a,p)=>{const s=n("a-descriptions-item"),m=n("a-typography-paragraph"),C=n("a-descriptions"),_=n("a-card"),w=n("a-col"),J=n("a-row"),I=n("a-typography-link"),K=n("a-space"),Q=n("a-tag"),U=n("a-card-grid"),X=n("a-flex");return u(),c("div",le,[o(X,null,{default:t(()=>[o(U,null,{default:t(()=>[o(J,{gutter:10},{default:t(()=>[o(w,{span:12},{default:t(()=>[o(_,{class:"_detail"},{default:t(()=>[o(C,{class:"description-column",column:1},{default:t(()=>[o(s,{label:a.$t("instanceDomain.instanceName"),labelStyle:{fontWeight:"bold"}},{default:t(()=>{var d;return[y("p",{onClick:p[0]||(p[0]=i=>{var g;return f((g=b(k).params)==null?void 0:g.appName)}),class:"description-item-content with-card"},[r(l((d=b(k).params)==null?void 0:d.appName)+" ",1),o(b(h))])]}),_:1},8,["label"]),o(s,{label:a.$t("instanceDomain.creationTime_k8s"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(m,null,{default:t(()=>[r(l(b(W)(e==null?void 0:e.createTime)),1)]),_:1})]),_:1},8,["label"]),o(s,{label:a.$t("instanceDomain.deployState"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[(e==null?void 0:e.deployState)==="Running"?(u(),S(m,{key:0,type:"success"},{default:t(()=>[r(" Running ")]),_:1})):(u(),S(m,{key:1,type:"danger"},{default:t(()=>[r(" Stop")]),_:1}))]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),o(w,{span:12},{default:t(()=>[o(_,{class:"_detail"},{default:t(()=>[o(C,{class:"description-column",column:1},{default:t(()=>[o(s,{label:a.$t("instanceDomain.startTime_k8s"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(m,null,{default:t(()=>[r(l(b(W)(e==null?void 0:e.readyTime)),1)]),_:1})]),_:1},8,["label"]),o(s,{label:a.$t("instanceDomain.registerState"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(m,{type:(e==null?void 0:e.registerState)==="Registed"?"success":"danger"},{default:t(()=>[r(l(e==null?void 0:e.registerState),1)]),_:1},8,["type"])]),_:1},8,["label"]),o(s,{label:a.$t("instanceDomain.registerTime"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(m,null,{default:t(()=>[r(l(b(W)(e==null?void 0:e.registerTime)),1)]),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})]),_:1}),o(_,{style:{"margin-top":"10px"},class:"_detail"},{default:t(()=>[o(C,{class:"description-column",column:1},{default:t(()=>[o(s,{label:a.$t("instanceDomain.instanceIP"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[y("p",{onClick:p[1]||(p[1]=d=>f(e==null?void 0:e.ip)),class:"description-item-content with-card"},[r(l(e==null?void 0:e.ip)+" ",1),o(b(h))])]),_:1},8,["label"]),o(s,{label:a.$t("instanceDomain.deployCluster"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(m,null,{default:t(()=>[r(l(e==null?void 0:e.deployCluster),1)]),_:1})]),_:1},8,["label"]),o(s,{label:a.$t("instanceDomain.dubboPort"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[e!=null&&e.rpcPort?(u(),c("p",{key:0,onClick:p[2]||(p[2]=d=>f(e==null?void 0:e.rpcPort)),class:"description-item-content with-card"},[r(l(e==null?void 0:e.rpcPort)+" ",1),o(b(h))])):P("",!0)]),_:1},8,["label"]),o(s,{label:a.$t("instanceDomain.registerCluster"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(K,null,{default:t(()=>[(u(!0),c(A,null,E(e==null?void 0:e.registerClusters,d=>(u(),S(I,null,{default:t(()=>[r(l(d),1)]),_:2},1024))),256))]),_:1})]),_:1},8,["label"]),o(s,{label:a.$t("instanceDomain.whichApplication"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(I,{onClick:p[3]||(p[3]=d=>j())},{default:t(()=>[r(l(e==null?void 0:e.appName),1)]),_:1})]),_:1},8,["label"]),o(s,{label:a.$t("instanceDomain.node"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[e!=null&&e.node?(u(),c("p",{key:0,onClick:p[4]||(p[4]=d=>f(e==null?void 0:e.node)),class:"description-item-content with-card"},[r(l(e==null?void 0:e.node)+" ",1),o(b(h))])):P("",!0)]),_:1},8,["label"]),o(s,{label:a.$t("instanceDomain.owningWorkload_k8s"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(m,null,{default:t(()=>[r(l(e==null?void 0:e.workloadName),1)]),_:1})]),_:1},8,["label"]),o(s,{label:a.$t("instanceDomain.instanceImage_k8s"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(_,{class:"description-item-card"},{default:t(()=>[e!=null&&e.image?(u(),c("p",{key:0,onClick:p[5]||(p[5]=d=>f(e==null?void 0:e.image)),class:"description-item-content with-card"},[r(l(e==null?void 0:e.image)+" ",1),o(b(h))])):P("",!0)]),_:1})]),_:1},8,["label"]),o(s,{label:a.$t("instanceDomain.instanceLabel"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(_,{class:"description-item-card"},{default:t(()=>[(u(!0),c(A,null,E(e==null?void 0:e.labels,(d,i)=>(u(),S(Q,null,{default:t(()=>[r(l(i)+" : "+l(d),1)]),_:2},1024))),256))]),_:1})]),_:1},8,["label"]),o(s,{label:a.$t("instanceDomain.healthExamination_k8s"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(_,{class:"description-item-card"},{default:t(()=>{var d,i,g,N,R,T,B,O,L;return[y("p",ae," 启动探针(StartupProbe):"+l($((d=e==null?void 0:e.probes)==null?void 0:d.startupProbe.open))+" 类型: "+l((i=e==null?void 0:e.probes)==null?void 0:i.startupProbe.type)+" 端口:"+l((g=e==null?void 0:e.probes)==null?void 0:g.startupProbe.port),1),y("p",se," 就绪探针(ReadinessProbe):"+l($((N=e==null?void 0:e.probes)==null?void 0:N.readinessProbe.open))+" 类型: "+l((R=e==null?void 0:e.probes)==null?void 0:R.readinessProbe.type)+" 端口:"+l((T=e==null?void 0:e.probes)==null?void 0:T.readinessProbe.port),1),y("p",re," 存活探针(LivenessProbe):"+l($((B=e==null?void 0:e.probes)==null?void 0:B.livenessProbe.open))+" 类型: "+l((O=e==null?void 0:e.probes)==null?void 0:O.livenessProbe.type)+" 端口:"+l((L=e==null?void 0:e.probes)==null?void 0:L.livenessProbe.port),1)]}),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})]),_:1})])}}}),ce=oe(pe,[["__scopeId","data-v-10093ca9"]]);export{ce as default};
