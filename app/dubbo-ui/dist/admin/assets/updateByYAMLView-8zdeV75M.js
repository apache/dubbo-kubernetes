import{_ as N}from"./MonacoEditor.vue_vue_type_script_setup_true_lang-4RKREvfq.js";import{e as A,h as S}from"./traffic-8AWvGuIw.js";import{d as T,u as L,n as p,r as M,Q as O,v as f,t as e,e as s,o as m,c as a,z as t,h as V,a9 as P,aa as Y,J as l,K as z,G as U,H as $,_ as G}from"./index-uR6obgcO.js";import{y as w}from"./js-yaml-lTHa-xT-.js";import"./request-QeNrWFvM.js";const d=r=>(U("data-v-1bd5d3eb"),r=r(),$(),r),H={class:"editorBox"},J={class:"bottom-action-footer"},K=d(()=>l("br",null,null,-1)),Q=d(()=>l("br",null,null,-1)),j=d(()=>l("br",null,null,-1)),q=d(()=>l("br",null,null,-1)),E=d(()=>l("br",null,null,-1)),F=d(()=>l("br",null,null,-1)),W=T({__name:"updateByYAMLView",setup(r){const v=L(),R=p(!1),u=p(!1),b=p(8);M({configVersion:"v3.0",scope:"service",key:"org.apache.dubbo.samples.UserService",enabled:!0,runtime:!0,force:!1,conditions:["=>host!=192.168.0.68"]});const i=p(`configVersion: v3.0
force: true
enabled: true
key: shop-detail
tags:
  - name: gray
    match:
      - key: env
        value:
          exact: gray`);async function y(){var n;let o=await A((n=v.params)==null?void 0:n.ruleName);(o==null?void 0:o.code)===200&&(i.value=w.dump(o==null?void 0:o.data))}const B=async()=>{var c;const o=w.load(i.value);(await S((c=v.params)==null?void 0:c.ruleName,o)).code===200&&await y()};return O(()=>{y()}),(o,n)=>{const c=s("a-button"),g=s("a-flex"),C=s("a-space"),D=s("a-affix"),h=s("a-col"),_=s("a-descriptions-item"),I=s("a-descriptions"),x=s("a-card");return m(),f(x,null,{default:e(()=>[a(g,{style:{width:"100%"}},{default:e(()=>[a(h,{span:u.value?24-b.value:24,class:"left"},{default:e(()=>[a(g,{vertical:"",align:"end"},{default:e(()=>[a(c,{type:"text",style:{color:"#0a90d5"},onClick:n[0]||(n[0]=k=>u.value=!u.value)},{default:e(()=>[t(" 字段说明 "),u.value?(m(),f(V(Y),{key:1})):(m(),f(V(P),{key:0}))]),_:1}),l("div",H,[a(N,{modelValue:i.value,"onUpdate:modelValue":n[1]||(n[1]=k=>i.value=k),theme:"vs-dark",height:500,language:"yaml",readonly:R.value},null,8,["modelValue","readonly"])])]),_:1}),a(D,{"offset-bottom":10},{default:e(()=>[l("div",J,[a(C,{align:"center",size:"large"},{default:e(()=>[a(c,{type:"primary",onClick:B},{default:e(()=>[t(" 确认 ")]),_:1}),a(c,null,{default:e(()=>[t(" 取消 ")]),_:1})]),_:1})])]),_:1})]),_:1},8,["span"]),a(h,{span:u.value?b.value:0,class:"right"},{default:e(()=>[u.value?(m(),f(x,{key:0,class:"sliderBox"},{default:e(()=>[l("div",null,[a(I,{title:"字段说明",column:1},{default:e(()=>[a(_,{label:"key"},{default:e(()=>[t(" 作用对象"),K,t(" 可能的值：Dubbo应用名或者服务名 ")]),_:1}),a(_,{label:"scope"},{default:e(()=>[t(" 规则粒度"),Q,t(" 可能的值：application, service ")]),_:1}),a(_,{label:"force"},{default:e(()=>[t(" 容错保护"),j,t(" 可能的值：true, false"),q,t(" 描述：如果为true，则路由筛选后若没有可用的地址则会直接报异常；如果为false，则会从可用地址中选择完成RPC调用 ")]),_:1}),a(_,{label:"runtime"},{default:e(()=>[t(" 运行时生效"),E,t(" 可能的值：true, false"),F,t(" 描述：如果为true，则该rule下的所有路由将会实时生效；若为false，则只有在启动时才会生效 ")]),_:1})]),_:1})])]),_:1})):z("",!0)]),_:1},8,["span"])]),_:1})]),_:1})}}}),oe=G(W,[["__scopeId","data-v-1bd5d3eb"]]);export{oe as default};
