import{d as O,k as A,b as E,g as T,n as u,r as U,s as z,f as p,c as e,t as s,e as l,h as t,P as y,o as d,y as i,H as I,I as w,z as _,J as v,v as G,_ as H}from"./index-_yryC3Xm.js";import{g as J}from"./service-HMSaQiT5.js";import"./request-c67rWRMa.js";const L={class:"__container_services_tabs_distribution"},M=["onClick"],Y=["onClick"],j=O({__name:"distribution",setup(q){A(o=>({d3ea4944:t(y)}));const m=E(),{appContext:{config:{globalProperties:b}}}=T(),h=u(""),N=U([{label:"不指定",value:""},{label:"version=1.0.0",value:"version=1.0.0"},{label:"group=group1",value:"group=group1"},{label:"version=1.0.0,group=group1",value:"version=1.0.0,group=group1"}]);u(N[0].value);const f=u("producer"),S=[{title:"应用名",dataIndex:"applicationName",width:"20%",customCell:(o,a)=>a===0?{rowSpan:c.value.length}:{rowSpan:0}},{title:"实例数",dataIndex:"instanceNum",width:"15%",customCell:(o,a)=>a===0?{rowSpan:c.value.length}:{rowSpan:0}},{title:"实例名",dataIndex:"instanceName",width:"15%"},{title:"RPC端口",dataIndex:"rpcPort",width:"15%"},{title:"超时时间",dataIndex:"timeout",width:"10%"},{title:"重试次数",dataIndex:"retryNum",width:"10%"},{title:"标签",dataIndex:"label",width:"15%"}],c=u([]),g=async()=>{let{data:o}=await J({});c.value=o.data};g();const C=z.debounce(g,300),V={showTotal:o=>b.$t("searchDomain.total")+": "+o+" "+b.$t("searchDomain.unit")};return(o,a)=>{const x=l("a-radio-button"),D=l("a-radio-group"),P=l("a-input-search"),k=l("a-flex"),R=l("a-tag"),B=l("a-table");return d(),p("div",L,[e(k,{vertical:""},{default:s(()=>[e(k,{class:"service-filter"},{default:s(()=>[e(D,{value:f.value,"onUpdate:value":a[0]||(a[0]=n=>f.value=n),"button-style":"solid",onClick:t(C)},{default:s(()=>[e(x,{value:"producer"},{default:s(()=>[i("生产者")]),_:1}),e(x,{value:"consumer"},{default:s(()=>[i("消费者")]),_:1})]),_:1},8,["value","onClick"]),e(P,{value:h.value,"onUpdate:value":a[1]||(a[1]=n=>h.value=n),placeholder:"搜索应用，ip，支持前缀搜索",class:"service-filter-input",onSearch:t(C),"enter-button":""},null,8,["value","onSearch"])]),_:1}),e(B,{columns:S,"data-source":c.value,scroll:{y:"45vh"},pagination:V},{bodyCell:s(({column:n,text:r})=>[n.dataIndex==="applicationName"?(d(),p("span",{key:0,class:"link",onClick:$=>t(m).push("/resources/applications/detail/"+r)},[I("b",null,[e(t(w),{style:{"margin-bottom":"-2px"},icon:"material-symbols:attach-file-rounded"}),i(" "+_(r),1)])],8,M)):v("",!0),n.dataIndex==="instanceName"?(d(),p("span",{key:1,class:"link",onClick:$=>t(m).push("/resources/instances/detail/"+r)},[I("b",null,[e(t(w),{style:{"margin-bottom":"-2px"},icon:"material-symbols:attach-file-rounded"}),i(" "+_(r),1)])],8,Y)):v("",!0),n.dataIndex==="label"?(d(),G(R,{key:2,color:t(y)},{default:s(()=>[i(_(r),1)]),_:2},1032,["color"])):v("",!0)]),_:1},8,["data-source"])]),_:1})])}}}),W=H(j,[["__scopeId","data-v-ae7f5f7e"]]);export{W as default};
