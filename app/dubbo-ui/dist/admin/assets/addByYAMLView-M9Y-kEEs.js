import{_ as I}from"./MonacoEditor.vue_vue_type_script_setup_true_lang-VyJUwte-.js";import{a as N}from"./traffic-kHQqjcnF.js";import{d as S,b as $,n as _,r as A,v as f,t as e,e as l,o as p,c as a,z as t,h as C,a9 as D,aa as L,J as o,K as M,G as O,H as Y,_ as z}from"./index-3yaHMBuR.js";import{y as P}from"./js-yaml-lTHa-xT-.js";import"./request-8fqjBntA.js";const u=i=>(O("data-v-fe9bdaa6"),i=i(),Y(),i),U={class:"editorBox"},G={class:"bottom-action-footer"},H=u(()=>o("br",null,null,-1)),J=u(()=>o("br",null,null,-1)),K=u(()=>o("br",null,null,-1)),T=u(()=>o("br",null,null,-1)),j=u(()=>o("br",null,null,-1)),q=u(()=>o("br",null,null,-1)),E=S({__name:"addByYAMLView",setup(i){const R=$(),w=_(!1),s=_(!1),y=_(8);A({configVersion:"",scope:"service",key:"org.apache.dubbo.samples.UserService",enabled:!0,runtime:!0,force:!1,conditions:["=>host!=192.168.0.68"]});const m=_(`configVersion: 
force: true
enabled: true
runtime: false
key: shop-detail
tags:
  - name: gray
    match:
      - key: env
        value:
          exact: gray`),B=async()=>{const v=P.load(m.value),{configVersion:c,scope:d,key:r,runtime:h,force:g,conditions:b}=v;let n="";r=="application"?n=`${r}.condition-router`:n=`${r}:${c}.condition-router`,(await N(n,v)).code===200&&R.push("/traffic/routingRule")};return(v,c)=>{const d=l("a-button"),r=l("a-flex"),h=l("a-space"),g=l("a-affix"),b=l("a-col"),n=l("a-descriptions-item"),k=l("a-descriptions"),x=l("a-card");return p(),f(x,null,{default:e(()=>[a(r,{style:{width:"100%"}},{default:e(()=>[a(b,{span:s.value?24-y.value:24,class:"left"},{default:e(()=>[a(r,{vertical:"",align:"end"},{default:e(()=>[a(d,{type:"text",style:{color:"#0a90d5"},onClick:c[0]||(c[0]=V=>s.value=!s.value)},{default:e(()=>[t(" 字段说明 "),s.value?(p(),f(C(L),{key:1})):(p(),f(C(D),{key:0}))]),_:1}),o("div",U,[a(I,{modelValue:m.value,"onUpdate:modelValue":c[1]||(c[1]=V=>m.value=V),theme:"vs-dark",height:500,language:"yaml",readonly:w.value},null,8,["modelValue","readonly"])])]),_:1}),a(g,{"offset-bottom":10},{default:e(()=>[o("div",G,[a(h,{align:"center",size:"large"},{default:e(()=>[a(d,{type:"primary",onClick:B},{default:e(()=>[t(" 确认 ")]),_:1}),a(d,null,{default:e(()=>[t(" 取消 ")]),_:1})]),_:1})])]),_:1})]),_:1},8,["span"]),a(b,{span:s.value?y.value:0,class:"right"},{default:e(()=>[s.value?(p(),f(x,{key:0,class:"sliderBox"},{default:e(()=>[o("div",null,[a(k,{title:"字段说明",column:1},{default:e(()=>[a(n,{label:"key"},{default:e(()=>[t(" 作用对象"),H,t(" 可能的值：Dubbo应用名或者服务名 ")]),_:1}),a(n,{label:"scope"},{default:e(()=>[t(" 规则粒度"),J,t(" 可能的值：application, service ")]),_:1}),a(n,{label:"force"},{default:e(()=>[t(" 容错保护"),K,t(" 可能的值：true, false"),T,t(" 描述：如果为true，则路由筛选后若没有可用的地址则会直接报异常；如果为false，则会从可用地址中选择完成RPC调用 ")]),_:1}),a(n,{label:"runtime"},{default:e(()=>[t(" 运行时生效"),j,t(" 可能的值：true, false"),q,t(" 描述：如果为true，则该rule下的所有路由将会实时生效；若为false，则只有在启动时才会生效 ")]),_:1})]),_:1})])]),_:1})):M("",!0)]),_:1},8,["span"])]),_:1})]),_:1})}}}),ee=z(E,[["__scopeId","data-v-fe9bdaa6"]]);export{ee as default};
