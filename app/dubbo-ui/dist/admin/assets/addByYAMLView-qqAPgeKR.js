import{_ as A}from"./MonacoEditor.vue_vue_type_script_setup_true_lang-JvHrh8S3.js";import{f as I}from"./traffic-yeaU89i2.js";import{d as N,b as S,u as $,n as _,r as D,v as f,t as e,e as n,o as p,c as a,z as t,h as R,a9 as L,aa as O,J as o,K as M,G as T,H as Y,_ as z}from"./index-vn9A3gdz.js";import{y as G}from"./js-yaml-lTHa-xT-.js";import"./request-9tAEjvni.js";const r=d=>(T("data-v-6f9c3e6a"),d=d(),Y(),d),P={class:"editorBox"},U={class:"bottom-action-footer"},j=r(()=>o("br",null,null,-1)),H=r(()=>o("br",null,null,-1)),J=r(()=>o("br",null,null,-1)),K=r(()=>o("br",null,null,-1)),q=r(()=>o("br",null,null,-1)),E=r(()=>o("br",null,null,-1)),F=N({__name:"addByYAMLView",setup(d){const w=S();$();const B=_(!1),s=_(!1),b=_(8);D({configVersion:"v3.0",scope:"service",key:"org.apache.dubbo.samples.UserService",enabled:!0,runtime:!0,force:!1,conditions:["=>host!=192.168.0.68"]});const m=_(`configVersion: v3.0
force: true
enabled: true
key: shop-detail
tags:
  - name: gray
    match:
      - key: env
        value:
          exact: gray`),C=async()=>{const v=G.load(m.value),{configVersion:c,scope:u,key:i,runtime:g,force:h,conditions:y}=v;let l="";u=="application"?l=`${i}.tag-router`:l=`${i}:${c}.tag-router`,(await I(l,v)).code===200&&w.push("/traffic/tagRule")};return(v,c)=>{const u=n("a-button"),i=n("a-flex"),g=n("a-space"),h=n("a-affix"),y=n("a-col"),l=n("a-descriptions-item"),k=n("a-descriptions"),x=n("a-card");return p(),f(x,null,{default:e(()=>[a(i,{style:{width:"100%"}},{default:e(()=>[a(y,{span:s.value?24-b.value:24,class:"left"},{default:e(()=>[a(i,{vertical:"",align:"end"},{default:e(()=>[a(u,{type:"text",style:{color:"#0a90d5"},onClick:c[0]||(c[0]=V=>s.value=!s.value)},{default:e(()=>[t(" 字段说明 "),s.value?(p(),f(R(O),{key:1})):(p(),f(R(L),{key:0}))]),_:1}),o("div",P,[a(A,{modelValue:m.value,"onUpdate:modelValue":c[1]||(c[1]=V=>m.value=V),theme:"vs-dark",height:500,language:"yaml",readonly:B.value},null,8,["modelValue","readonly"])])]),_:1}),a(h,{"offset-bottom":10},{default:e(()=>[o("div",U,[a(g,{align:"center",size:"large"},{default:e(()=>[a(u,{type:"primary",onClick:C},{default:e(()=>[t(" 确认 ")]),_:1}),a(u,null,{default:e(()=>[t(" 取消 ")]),_:1})]),_:1})])]),_:1})]),_:1},8,["span"]),a(y,{span:s.value?b.value:0,class:"right"},{default:e(()=>[s.value?(p(),f(x,{key:0,class:"sliderBox"},{default:e(()=>[o("div",null,[a(k,{title:"字段说明",column:1},{default:e(()=>[a(l,{label:"key"},{default:e(()=>[t(" 作用对象"),j,t(" 可能的值：Dubbo应用名或者服务名 ")]),_:1}),a(l,{label:"scope"},{default:e(()=>[t(" 规则粒度"),H,t(" 可能的值：application, service ")]),_:1}),a(l,{label:"force"},{default:e(()=>[t(" 容错保护"),J,t(" 可能的值：true, false"),K,t(" 描述：如果为true，则路由筛选后若没有可用的地址则会直接报异常；如果为false，则会从可用地址中选择完成RPC调用 ")]),_:1}),a(l,{label:"runtime"},{default:e(()=>[t(" 运行时生效"),q,t(" 可能的值：true, false"),E,t(" 描述：如果为true，则该rule下的所有路由将会实时生效；若为false，则只有在启动时才会生效 ")]),_:1})]),_:1})])]),_:1})):M("",!0)]),_:1},8,["span"])]),_:1})]),_:1})}}}),ae=z(F,[["__scopeId","data-v-6f9c3e6a"]]);export{ae as default};
