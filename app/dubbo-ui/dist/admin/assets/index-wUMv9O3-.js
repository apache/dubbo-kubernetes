import{d as R,k as b,r as w,Q as S,f as l,c as n,t as r,h as o,P as g,M as T,e as h,o as c,R as p,z as t,J as V,I as $,B as _,K as d,F as f,m as B,_ as D}from"./index-3yaHMBuR.js";import{s as G,d as E}from"./traffic-kHQqjcnF.js";import{S as O,a as A,s as y}from"./SearchUtil-x3tT_5M1.js";import{f as F}from"./DateUtil-4kBRTJms.js";import"./request-8fqjBntA.js";const M={class:"__container_resources_application_index"},P=["onClick"],Y=R({__name:"index",setup(J){b(e=>({"3c6f3e5f":o(g)}));let N=[{title:"ruleName",key:"ruleName",dataIndex:"ruleName",sorter:(e,a)=>y(e.appName,a.appName),width:140},{title:"ruleGranularity",key:"ruleGranularity",dataIndex:"ruleGranularity",render:(e,a)=>a.isService?"服务":"应用",width:100,sorter:(e,a)=>y(e.instanceNum,a.instanceNum)},{title:"createTime",key:"createTime",dataIndex:"createTime",width:120,sorter:(e,a)=>y(e.instanceNum,a.instanceNum)},{title:"enable",key:"enable",dataIndex:"enable",render:(e,a)=>a.enable?"是":"否",width:120,sorter:(e,a)=>y(e.instanceNum,a.instanceNum)},{title:"operation",key:"operation",dataIndex:"operation",width:200}];const u=w(new O([{label:"serviceGovernance",param:"serviceGovernance",placeholder:"typeRoutingRules",style:{width:"200px"}}],G,N)),C=async e=>{(await E(e)).code===200&&await u.onSearch()};S(()=>{u.onSearch()});const v=e=>{C(e)};return T(B.SEARCH_DOMAIN,u),(e,a)=>{const m=h("a-button"),I=h("a-popconfirm");return c(),l("div",M,[n(A,{"search-domain":u},{customOperation:r(()=>[n(m,{type:"primary",onClick:a[0]||(a[0]=k=>o(p).push("/traffic/addRoutingRule/addByFormView"))},{default:r(()=>[t("新增条件路由规则 ")]),_:1})]),bodyCell:r(({text:k,column:i,record:s})=>[i.dataIndex==="ruleName"?(c(),l("span",{key:0,class:"rule-link",onClick:x=>o(p).push(`formview/${s[i.key]}`)},[V("b",null,[n(o($),{style:{"margin-bottom":"-2px"},icon:"material-symbols:attach-file-rounded"}),t(" "+_(k),1)])],8,P)):d("",!0),i.dataIndex==="ruleGranularity"?(c(),l(f,{key:1},[t(_(s.scope==="service"?"服务":"应用"),1)],64)):d("",!0),i.dataIndex==="enable"?(c(),l(f,{key:2},[t(_(k?"启用":"禁用"),1)],64)):d("",!0),i.dataIndex==="createTime"?(c(),l(f,{key:3},[t(_(o(F)(s.createTime)),1)],64)):d("",!0),i.dataIndex==="operation"?(c(),l(f,{key:4},[n(m,{type:"link",onClick:x=>o(p).push(`formview/${s.ruleName}`)},{default:r(()=>[t(" 查看 ")]),_:2},1032,["onClick"]),n(m,{type:"link",onClick:x=>o(p).push(`/traffic/updateRoutingRule/updateByFormView/${s.ruleName}`)},{default:r(()=>[t(" 修改 ")]),_:2},1032,["onClick"]),n(I,{title:"确认删除该条件路由规则？","ok-text":"Yes","cancel-text":"No",onConfirm:x=>v(s.ruleName)},{default:r(()=>[n(m,{type:"link"},{default:r(()=>[t(" 删除")]),_:1})]),_:2},1032,["onConfirm"])],64)):d("",!0)]),_:1},8,["search-domain"])])}}}),j=D(Y,[["__scopeId","data-v-680ae87b"]]);export{j as default};
