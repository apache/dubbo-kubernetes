import{d as v,k as I,b as g,r as w,Q as R,f as o,c as t,t as n,h as i,P as S,M as D,e as x,o as s,z as r,J as G,I as T,B as y,K as d,F as h,m as V,_ as $}from"./index-_X3VxdTR.js";import{i as E}from"./traffic-tUIc0SS0.js";import{S as O,a as B,s as m}from"./SearchUtil-ma5G3OR-.js";import"./request-da1buChK.js";const M={class:"__container_traffic_config_index"},A=["onClick"],P=v({__name:"index",setup(Y){I(a=>({b33fb95c:i(S)}));const u=g();let N=[{title:"ruleName",key:"ruleName",dataIndex:"ruleName",sorter:(a,e)=>m(a.appName,e.appName),width:200,ellipsis:!0},{title:"ruleGranularity",key:"ruleGranularity",dataIndex:"ruleGranularity",render:(a,e)=>e.isService?"服务":"应用",width:100,sorter:(a,e)=>m(a.instanceNum,e.instanceNum)},{title:"createTime",key:"createTime",dataIndex:"createTime",width:200,sorter:(a,e)=>m(a.instanceNum,e.instanceNum)},{title:"enable",key:"enable",dataIndex:"enable",render:(a,e)=>e.enable?"是":"否",width:120,sorter:(a,e)=>m(a.instanceNum,e.instanceNum)},{title:"operation",key:"operation",dataIndex:"operation",width:200}];const p=w(new O([{label:"serviceGovernance",param:"serviceGovernance",placeholder:"typeRoutingRules",style:{width:"200px"}}],E,N));R(()=>{p.onSearch()});const C=()=>{};return D(V.SEARCH_DOMAIN,p),(a,e)=>{const c=x("a-button"),b=x("a-popconfirm");return s(),o("div",M,[t(B,{"search-domain":p},{customOperation:n(()=>[t(c,{type:"primary"},{default:n(()=>[r("新增动态配置")]),_:1})]),bodyCell:n(({text:_,column:l,record:f})=>[l.dataIndex==="ruleName"?(s(),o("span",{key:0,class:"config-link",onClick:k=>i(u).push(`/traffic/dynamicConfig/formview/${f.ruleName}/0`)},[G("b",null,[t(i(T),{style:{"margin-bottom":"-2px"},icon:"material-symbols:attach-file-rounded"}),r(" "+y(_),1)])],8,A)):d("",!0),l.dataIndex==="ruleGranularity"?(s(),o(h,{key:1},[r(y(_?"服务":"应用"),1)],64)):d("",!0),l.dataIndex==="enable"?(s(),o(h,{key:2},[r(y(_?"启用":"禁用"),1)],64)):d("",!0),l.dataIndex==="operation"?(s(),o(h,{key:3},[t(c,{type:"link",onClick:k=>i(u).push(`/traffic/dynamicConfig/formview/${f.ruleName}/0`)},{default:n(()=>[r("查看")]),_:2},1032,["onClick"]),t(c,{type:"link",onClick:k=>i(u).push(`/traffic/dynamicConfig/formview/${f.ruleName}/1`)},{default:n(()=>[r(" 修改 ")]),_:2},1032,["onClick"]),t(b,{title:"确认删除该动态配置？","ok-text":"Yes","cancel-text":"No",onConfirm:C},{default:n(()=>[t(c,{type:"link"},{default:n(()=>[r("删除")]),_:1})]),_:1})],64)):d("",!0)]),_:1},8,["search-domain"])])}}}),H=$(P,[["__scopeId","data-v-95df7de8"]]);export{H as default};
