import{d as G,a as H,n as B,u as J,f as v,c as s,t as e,e as r,o as i,J as S,h as o,I as b,z as u,B as p,F as L,y as O,v as y,K as T,a4 as U,X as h,G as X,H as j,_ as q}from"./index-WfxyH1kR.js";const A=m=>(X("data-v-253e4864"),m=m(),j(),m),M={class:"__container_common_config"},Q={class:"title"},W=A(()=>S("div",{class:"bg"},null,-1)),Y={key:0,style:{float:"right"}},Z=G({__name:"ConfigPage",props:{options:{}},setup(m){let d=m,n=H(()=>d.options.list[d.options.current[0]]),k=B(null),f=B(!1),z=J();async function K(){f.value=!0,await k.value.validate().catch(l=>{h.error("submit failed [form check]: "+l),f.value=!1});let t=d.options.list[d.options.current[0]];await t.submit(t.form).catch(l=>{h.error("submit failed [server error]: "+l)}),f.value=!1,h.success("submit success")}function N(){n.value.reset(n.value.form)}return(t,l)=>{const V=r("a-menu-item"),F=r("a-menu"),w=r("a-card"),C=r("a-col"),g=r("a-button"),P=r("a-form"),R=r("a-form-item"),D=r("a-spin"),E=r("a-row");return i(),v("div",M,[s(E,{gutter:20},{default:e(()=>[s(C,{span:6},{default:e(()=>[s(w,{class:"__opt"},{title:e(()=>{var a;return[S("div",Q,[W,s(o(b),{class:"title-icon",icon:"icon-park-twotone:application-one"}),u(" "+p((a=o(z).params)==null?void 0:a.pathId),1)])]}),default:e(()=>[s(F,{selectedKeys:t.options.current,"onUpdate:selectedKeys":l[0]||(l[0]=a=>t.options.current=a)},{default:e(()=>[(i(!0),v(L,null,O(t.options.list,(a,c)=>(i(),y(V,{key:c},{default:e(()=>[c===t.options.current[0]?(i(),y(o(b),{key:0,style:{"margin-bottom":"-5px","font-size":"20px"},icon:"material-symbols:settings-b-roll-rounded"})):(i(),y(o(b),{key:1,style:{"margin-bottom":"-5px","font-size":"20px",color:"grey"},icon:"material-symbols:settings-b-roll-outline-rounded"})),u(" "+p(t.$t(a.title)),1)]),_:2},1024))),128))]),_:1},8,["selectedKeys"])]),_:1})]),_:1}),s(C,{span:18},{default:e(()=>[s(w,null,{title:e(()=>{var a;return[u(p(t.$t(o(n).title))+" ",1),(a=o(n))!=null&&a.ext?(i(),v("div",Y,[s(g,{type:"primary",onClick:l[1]||(l[1]=c=>{var _,x,I,$;return($=(_=o(n))==null?void 0:_.ext)==null?void 0:$.fun((I=(x=o(n))==null?void 0:x.form)==null?void 0:I.rules)})},{default:e(()=>{var c,_;return[u(p((_=(c=o(n))==null?void 0:c.ext)==null?void 0:_.title),1)]}),_:1})])):T("",!0)]}),default:e(()=>[s(D,{spinning:o(f)},{default:e(()=>[(i(),y(P,{style:{overflow:"auto","max-height":"calc(100vh - 450px)"},ref_key:"__config_form",ref:k,key:t.options.current,"wrapper-col":{span:14},model:o(n).form,"label-col":{style:{width:"100px"}},layout:"horizontal"},{default:e(()=>[U(t.$slots,"form_"+o(n).key,{current:o(n)},void 0,!0)]),_:3},8,["model"])),s(R,{style:{margin:"20px 0 0 100px"}},{default:e(()=>[s(g,{type:"primary",onClick:K},{default:e(()=>[u(p(t.$t("submit")),1)]),_:1}),s(g,{style:{"margin-left":"10px"},onClick:N},{default:e(()=>[u(p(t.$t("reset")),1)]),_:1})]),_:1})]),_:3},8,["spinning"])]),_:3})]),_:3})]),_:3})])}}}),te=q(Z,[["__scopeId","data-v-253e4864"]]);export{te as C};
