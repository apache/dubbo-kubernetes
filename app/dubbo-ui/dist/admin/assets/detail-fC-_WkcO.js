import{u as Y}from"./index-76iqyuzG.js";import{d as q,u as G,b as H,r as L,g as Z,U as x,Q as D,f as c,c as o,t,e as n,o as u,J as y,z as r,B as a,h as b,W as h,v as k,K as P,F as V,y as A,X as ee,_ as oe}from"./index-2tg1dFrv.js";import{g as te}from"./instance-EENTr5YG.js";import{f as E}from"./DateUtil-EomJUVHv.js";import"./request-2UPhfKnX.js";const le={class:"__container_instance_detail"},ae={class:"white_space"},se={class:"white_space"},re={class:"white_space"},pe=q({__name:"detail",setup(de){const S=G(),F=H(),W=L({}),{appContext:{config:{globalProperties:M}}}=Z();x("20");const e=L({});D(async()=>{const{appName:l,pathId:p}=S.params;let s={instanceName:l,instanceIP:p};W.detail=await te(s),Object.assign(e,W.detail.data)});const j=l=>{console.log("appName",l),F.push({path:"/resources/applications/detail/"+l})},z=Y().toClipboard;function f(l){ee.success(M.$t("messageDomain.success.copy")),z(l)}const $=l=>l?"开启":"关闭";return(l,p)=>{const s=n("a-descriptions-item"),_=n("a-typography-paragraph"),C=n("a-descriptions"),m=n("a-card"),v=n("a-col"),J=n("a-row"),w=n("a-typography-link"),K=n("a-space"),Q=n("a-tag"),U=n("a-card-grid"),X=n("a-flex");return u(),c("div",le,[o(X,null,{default:t(()=>[o(U,null,{default:t(()=>[o(J,{gutter:10},{default:t(()=>[o(v,{span:12},{default:t(()=>[o(m,{class:"_detail"},{default:t(()=>[o(C,{class:"description-column",column:1},{default:t(()=>[o(s,{label:l.$t("instanceDomain.instanceName"),labelStyle:{fontWeight:"bold"}},{default:t(()=>{var d;return[y("p",{onClick:p[0]||(p[0]=i=>{var g;return f((g=b(S).params)==null?void 0:g.appName)}),class:"description-item-content with-card"},[r(a((d=b(S).params)==null?void 0:d.appName)+" ",1),o(b(h))])]}),_:1},8,["label"]),o(s,{label:l.$t("instanceDomain.creationTime_k8s"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(_,null,{default:t(()=>[r(a(b(E)(e==null?void 0:e.createTime)),1)]),_:1})]),_:1},8,["label"]),o(s,{label:l.$t("instanceDomain.deployState"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[(e==null?void 0:e.deployState)==="Running"?(u(),k(_,{key:0,type:"success"},{default:t(()=>[r(" Running ")]),_:1})):(u(),k(_,{key:1,type:"danger"},{default:t(()=>[r(" Stop")]),_:1}))]),_:1},8,["label"])]),_:1})]),_:1})]),_:1}),o(v,{span:12},{default:t(()=>[o(m,{class:"_detail",style:{height:"100%"}},{default:t(()=>[o(C,{class:"description-column",column:1},{default:t(()=>[o(s,{label:l.$t("instanceDomain.startTime_k8s"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(_,null,{default:t(()=>[r(a(b(E)(e==null?void 0:e.readyTime)),1)]),_:1})]),_:1},8,["label"]),o(s,{label:l.$t("instanceDomain.registerState"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(_,{type:(e==null?void 0:e.registerState)==="Registed"?"success":"danger"},{default:t(()=>[r(a(e==null?void 0:e.registerState),1)]),_:1},8,["type"])]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})]),_:1}),o(m,{style:{"margin-top":"10px"},class:"_detail"},{default:t(()=>[o(C,{class:"description-column",column:1},{default:t(()=>[o(s,{label:l.$t("instanceDomain.instanceIP"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[y("p",{onClick:p[1]||(p[1]=d=>f(e==null?void 0:e.ip)),class:"description-item-content with-card"},[r(a(e==null?void 0:e.ip)+" ",1),o(b(h))])]),_:1},8,["label"]),o(s,{label:l.$t("instanceDomain.deployCluster"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(_,null,{default:t(()=>[r(a(e==null?void 0:e.deployCluster),1)]),_:1})]),_:1},8,["label"]),o(s,{label:l.$t("instanceDomain.dubboPort"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[e!=null&&e.rpcPort?(u(),c("p",{key:0,onClick:p[2]||(p[2]=d=>f(e==null?void 0:e.rpcPort)),class:"description-item-content with-card"},[r(a(e==null?void 0:e.rpcPort)+" ",1),o(b(h))])):P("",!0)]),_:1},8,["label"]),o(s,{label:l.$t("instanceDomain.registerCluster"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(K,null,{default:t(()=>[(u(!0),c(V,null,A(e==null?void 0:e.registerClusters,d=>(u(),k(w,null,{default:t(()=>[r(a(d),1)]),_:2},1024))),256))]),_:1})]),_:1},8,["label"]),o(s,{label:l.$t("instanceDomain.whichApplication"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(w,{onClick:p[3]||(p[3]=d=>j(e==null?void 0:e.appName))},{default:t(()=>[r(a(e==null?void 0:e.appName),1)]),_:1})]),_:1},8,["label"]),o(s,{label:l.$t("instanceDomain.node"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[e!=null&&e.node?(u(),c("p",{key:0,onClick:p[4]||(p[4]=d=>f(e==null?void 0:e.node)),class:"description-item-content with-card"},[r(a(e==null?void 0:e.node)+" ",1),o(b(h))])):P("",!0)]),_:1},8,["label"]),o(s,{label:l.$t("instanceDomain.owningWorkload_k8s"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(_,null,{default:t(()=>[r(a(e==null?void 0:e.workloadName),1)]),_:1})]),_:1},8,["label"]),o(s,{label:l.$t("instanceDomain.instanceImage_k8s"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(m,{class:"description-item-card"},{default:t(()=>[e!=null&&e.image?(u(),c("p",{key:0,onClick:p[5]||(p[5]=d=>f(e==null?void 0:e.image)),class:"description-item-content with-card"},[r(a(e==null?void 0:e.image)+" ",1),o(b(h))])):P("",!0)]),_:1})]),_:1},8,["label"]),o(s,{label:l.$t("instanceDomain.instanceLabel"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(m,{class:"description-item-card"},{default:t(()=>[(u(!0),c(V,null,A(e==null?void 0:e.labels,(d,i)=>(u(),k(Q,null,{default:t(()=>[r(a(i)+" : "+a(d),1)]),_:2},1024))),256))]),_:1})]),_:1},8,["label"]),o(s,{label:l.$t("instanceDomain.healthExamination_k8s"),labelStyle:{fontWeight:"bold"}},{default:t(()=>[o(m,{class:"description-item-card"},{default:t(()=>{var d,i,g,N,I,R,T,B,O;return[y("p",ae," 启动探针(StartupProbe):"+a($((d=e==null?void 0:e.probes)==null?void 0:d.startupProbe.open))+" 类型: "+a((i=e==null?void 0:e.probes)==null?void 0:i.startupProbe.type)+" 端口:"+a((g=e==null?void 0:e.probes)==null?void 0:g.startupProbe.port),1),y("p",se," 就绪探针(ReadinessProbe):"+a($((N=e==null?void 0:e.probes)==null?void 0:N.readinessProbe.open))+" 类型: "+a((I=e==null?void 0:e.probes)==null?void 0:I.readinessProbe.type)+" 端口:"+a((R=e==null?void 0:e.probes)==null?void 0:R.readinessProbe.port),1),y("p",re," 存活探针(LivenessProbe):"+a($((T=e==null?void 0:e.probes)==null?void 0:T.livenessProbe.open))+" 类型: "+a((B=e==null?void 0:e.probes)==null?void 0:B.livenessProbe.type)+" 端口:"+a((O=e==null?void 0:e.probes)==null?void 0:O.livenessProbe.port),1)]}),_:1})]),_:1},8,["label"])]),_:1})]),_:1})]),_:1})]),_:1})])}}}),ce=oe(pe,[["__scopeId","data-v-fb65b5f4"]]);export{ce as default};
