import{c as e,A as ee,d as L,n as A,e as v,o as u,f as F,t,v as c,h as p,a4 as D,a5 as te,a6 as B,a7 as V,F as T,x as q,y as S,z as ae,J as k,a8 as H,a1 as R,E as Q,G as W,H as $,_ as X,r as ne}from"./index-7CzEMIL1.js";var le={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};const oe=le;function K(i){for(var l=1;l<arguments.length;l++){var n=arguments[l]!=null?Object(arguments[l]):{},y=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(y=y.concat(Object.getOwnPropertySymbols(n).filter(function(_){return Object.getOwnPropertyDescriptor(n,_).enumerable}))),y.forEach(function(_){se(i,_,n[_])})}return i}function se(i,l,n){return l in i?Object.defineProperty(i,l,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[l]=n,i}var z=function(l,n){var y=K({},l,n.attrs);return e(ee,K({},y,{icon:oe}),null)};z.displayName="MinusOutlined";z.inheritAttrs=!1;const G=z,ue=i=>(Q("data-v-6e55c1ea"),i=i(),W(),i),ie={class:"__container_services_tabs_param_route"},de=ue(()=>$("span",null,"路由",-1)),re=L({__name:"paramRoute",props:{paramRouteForm:{type:Object,default:()=>{}},index:{type:Number}},emits:["deleteParamRoute","update"],setup(i,{emit:l}){const n=A(!1),y=()=>{n.value=!0},_=l,b=i,a=A({method:{value:void 0,selectArr:[]},functionParams:[],destination:[]}),N=()=>{n.value=!1,a.value=JSON.parse(JSON.stringify(b.paramRouteForm))};N();const g=()=>{n.value=!1,_("update",b.index,a)},o=[{title:"参数索引",key:"param",dataIndex:"param",width:"30%"},{title:"关系",key:"relation",dataIndex:"relation",width:"30%"},{title:"值",key:"value",dataIndex:"value",width:"30%"},{title:"操作",key:"handle",dataIndex:"handle",width:"10%"}],P=[{title:"标签",key:"label",dataIndex:"label",width:"25%"},{title:"关系",key:"relation",dataIndex:"relation",width:"25%"},{title:"值",key:"value",dataIndex:"value",width:"25%"},{title:"权重",key:"weight",dataIndex:"weight",width:"15%"},{title:"操作",key:"handle",dataIndex:"handle",width:"10%"}],E=f=>{a.value.functionParams.splice(f+1,0,{param:"",relation:"",value:""})},O=f=>{a.value.functionParams.splice(f,1)},U=f=>{a.value.destination.splice(f+1,0,{label:"",relation:"",value:"",weight:""})},w=f=>{a.value.destination.splice(f,1)};return(f,I)=>{const h=v("a-flex"),M=v("a-select-option"),d=v("a-select"),x=v("a-form-item"),C=v("a-input"),J=v("a-table"),Y=v("a-form"),Z=v("a-card");return u(),F("div",ie,[e(Z,{bordered:!1,style:{width:"1000px"}},{title:t(()=>[e(h,{justify:"space-between"},{default:t(()=>[de,n.value?(u(),c(h,{key:1,class:"handle-form"},{default:t(()=>[e(p(B),{onClick:g,class:"edit-icon"}),e(p(V),{onClick:N,class:"edit-icon"})]),_:1})):(u(),c(h,{key:0,class:"handle-form"},{default:t(()=>[e(p(D),{onClick:y,class:"edit-icon"}),e(p(te),{onClick:I[0]||(I[0]=m=>_("deleteParamRoute",b.index)),class:"edit-icon"})]),_:1}))]),_:1})]),default:t(()=>[e(Y,{labelCol:{span:3},disabled:!n.value},{default:t(()=>[e(x,{label:"选择方法"},{default:t(()=>[e(d,{value:a.value.method.value,"onUpdate:value":I[1]||(I[1]=m=>a.value.method.value=m),style:{width:"120px"}},{default:t(()=>[(u(!0),F(T,null,q(a.value.method.selectArr,(m,s)=>(u(),c(M,{value:m,key:s},{default:t(()=>[S(ae(m),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"])]),_:1}),e(x,{label:"指定方法参数"},{default:t(()=>[e(J,{columns:o,"data-source":a.value.functionParams,pagination:!1},{bodyCell:t(({column:m,index:s})=>[m.dataIndex==="param"?(u(),c(C,{key:0,value:a.value.functionParams[s].param,"onUpdate:value":r=>a.value.functionParams[s].param=r},null,8,["value","onUpdate:value"])):k("",!0),m.dataIndex==="relation"?(u(),c(C,{key:1,value:a.value.functionParams[s].relation,"onUpdate:value":r=>a.value.functionParams[s].relation=r},null,8,["value","onUpdate:value"])):k("",!0),m.dataIndex==="value"?(u(),c(C,{key:2,value:a.value.functionParams[s].value,"onUpdate:value":r=>a.value.functionParams[s].value=r},null,8,["value","onUpdate:value"])):k("",!0),m.dataIndex==="handle"?(u(),c(h,{key:3,justify:"space-between"},{default:t(()=>[e(p(H),{class:R(["edit-icon",{"disabled-icon":!n.value}]),onClick:r=>n.value&&E(b.index,s)},null,8,["class","onClick"]),e(p(G),{class:R(["edit-icon",{"disabled-icon":!n.value||a.value.functionParams.length===1}]),onClick:r=>n.value&&a.value.functionParams.length!==1&&O(b.index,s)},null,8,["class","onClick"])]),_:2},1024)):k("",!0)]),_:1},8,["data-source"])]),_:1}),e(x,{label:"路由目的地"},{default:t(()=>[e(J,{columns:P,"data-source":a.value.destination,pagination:!1},{bodyCell:t(({column:m,index:s})=>[m.dataIndex==="label"?(u(),c(C,{key:0,value:a.value.destination[s].label,"onUpdate:value":r=>a.value.destination[s].label=r},null,8,["value","onUpdate:value"])):k("",!0),m.dataIndex==="relation"?(u(),c(C,{key:1,value:a.value.destination[s].relation,"onUpdate:value":r=>a.value.destination[s].relation=r},null,8,["value","onUpdate:value"])):k("",!0),m.dataIndex==="value"?(u(),c(C,{key:2,value:a.value.destination[s].value,"onUpdate:value":r=>a.value.destination[s].value=r},null,8,["value","onUpdate:value"])):k("",!0),m.dataIndex==="weight"?(u(),c(C,{key:3,value:a.value.destination[s].weight,"onUpdate:value":r=>a.value.destination[s].weight=r},null,8,["value","onUpdate:value"])):k("",!0),m.dataIndex==="handle"?(u(),c(h,{key:4,justify:"space-between"},{default:t(()=>[e(p(H),{class:R(["edit-icon",{"disabled-icon":!n.value}]),onClick:r=>n.value&&U(s)},null,8,["class","onClick"]),e(p(G),{class:R(["edit-icon",{"disabled-icon":!n.value||a.value.functionParams.length===1}]),onClick:r=>n.value&&a.value.functionParams.length!==1&&w(s)},null,8,["class","onClick"])]),_:2},1024)):k("",!0)]),_:1},8,["data-source"])]),_:1})]),_:1},8,["disabled"])]),_:1})])}}}),ce=X(re,[["__scopeId","data-v-6e55c1ea"]]),j=i=>(Q("data-v-a53957ff"),i=i(),W(),i),ve={class:"__container_services_tabs_scene_config"},me=j(()=>$("span",{class:"item-content"},"1000ms",-1)),pe=j(()=>$("span",{style:{"margin-left":"5px"}},"ms",-1)),_e=j(()=>$("span",{class:"item-content"},"1000次",-1)),fe=j(()=>$("span",{style:{"margin-left":"5px"}},"次",-1)),ye=L({__name:"sceneConfig",setup(i){const l=ne({timeout:{isEdit:!1,value:""},retryNum:{isEdit:!1,value:""},sameArea:{value:"close"}}),n=A("timeout"),y=g=>{l[g].isEdit=!0},_=g=>{l[g].isEdit=!1},b=A([]),a=()=>{b.value.push({method:{value:"getUserInfo",selectArr:["getUserInfo","register","login"]},functionParams:[{param:"",relation:"",value:""}],destination:[{label:"",relation:"",value:"",weight:""}]})};a();const N=g=>{b.value.splice(g,1)};return(g,o)=>{const P=v("a-flex"),E=v("a-input"),O=v("a-descriptions-item"),U=v("a-descriptions"),w=v("a-tab-pane"),f=v("a-radio-button"),I=v("a-radio-group"),h=v("a-button"),M=v("a-tabs");return u(),F("div",ve,[e(M,{activeKey:n.value,"onUpdate:activeKey":o[9]||(o[9]=d=>n.value=d),"tab-position":"left",animated:""},{default:t(()=>[e(w,{key:"timeout",tab:"超时时间"},{default:t(()=>[e(U,{layout:"vertical"},{default:t(()=>[e(O,{label:"超时时间"},{default:t(()=>[l.timeout.isEdit?(u(),c(P,{key:1,align:"center"},{default:t(()=>[e(E,{value:l.timeout.value,"onUpdate:value":o[1]||(o[1]=d=>l.timeout.value=d),class:"item-input"},null,8,["value"]),pe,e(p(B),{onClick:o[2]||(o[2]=d=>_("timeout")),class:"item-icon"}),e(p(V),{onClick:o[3]||(o[3]=d=>_("timeout")),class:"item-icon"})]),_:1})):(u(),c(P,{key:0},{default:t(()=>[me,e(p(D),{onClick:o[0]||(o[0]=d=>y("timeout")),class:"item-icon"})]),_:1}))]),_:1})]),_:1})]),_:1}),e(w,{key:"retryNum",tab:"重试次数"},{default:t(()=>[e(U,{layout:"vertical"},{default:t(()=>[e(O,{label:"重试次数"},{default:t(()=>[l.retryNum.isEdit?(u(),c(P,{key:1,align:"center"},{default:t(()=>[e(E,{value:l.retryNum.value,"onUpdate:value":o[5]||(o[5]=d=>l.retryNum.value=d),class:"item-input"},null,8,["value"]),fe,e(p(B),{onClick:o[6]||(o[6]=d=>_("retryNum")),class:"item-icon"}),e(p(V),{onClick:o[7]||(o[7]=d=>_("retryNum")),class:"item-icon"})]),_:1})):(u(),c(P,{key:0},{default:t(()=>[_e,e(p(D),{onClick:o[4]||(o[4]=d=>y("retryNum")),class:"item-icon"})]),_:1}))]),_:1})]),_:1})]),_:1}),e(w,{key:"sameArea",tab:"同区域优先"},{default:t(()=>[e(U,{layout:"vertical"},{default:t(()=>[e(O,{label:"同区域优先"},{default:t(()=>[e(I,{value:l.sameArea.value,"onUpdate:value":o[8]||(o[8]=d=>l.sameArea.value=d),"button-style":"solid"},{default:t(()=>[e(f,{value:"close"},{default:t(()=>[S("关闭")]),_:1}),e(f,{value:"open"},{default:t(()=>[S("开启")]),_:1})]),_:1},8,["value"])]),_:1})]),_:1})]),_:1}),e(w,{key:"paramRoute",tab:"参数路由"},{default:t(()=>[(u(!0),F(T,null,q(b.value,(d,x)=>(u(),c(ce,{class:"param-route",key:x,paramRouteForm:d,index:x,onUpdate:()=>{},onDeleteParamRoute:N},null,8,["paramRouteForm","index"]))),128)),e(h,{type:"primary",style:{"margin-top":"20px"},onClick:a},{default:t(()=>[S("增加路由")]),_:1})]),_:1})]),_:1},8,["activeKey"])])}}}),ke=X(ye,[["__scopeId","data-v-a53957ff"]]);export{ke as default};
