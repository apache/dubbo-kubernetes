import{d as I,k as w,u as R,r as T,Q as g,f as i,c as t,t as o,h as n,P as $,M as D,e as C,o as l,R as u,z as r,J as S,I as V,B as k,K as _,F as y,m as B,_ as E}from"./index-vn9A3gdz.js";import{b as O,c as A}from"./traffic-yeaU89i2.js";import{S as F,a as M,s as h}from"./SearchUtil-kVsWHfRA.js";import{f as P}from"./DateUtil-DJHEWObA.js";import"./request-9tAEjvni.js";const Y={class:"__container_resources_application_index"},G=["onClick"],J=I({__name:"index",setup(K){w(e=>({"79901a2e":n($)})),R();let N=[{title:"ruleName",key:"ruleName",dataIndex:"ruleName",sorter:(e,a)=>h(e.appName,a.appName),width:140},{title:"createTime",key:"createTime",dataIndex:"createTime",width:120,sorter:(e,a)=>h(e.instanceNum,a.instanceNum)},{title:"enable",key:"enabled",dataIndex:"enabled",width:120,sorter:(e,a)=>h(e.instanceNum,a.instanceNum)},{title:"operation",key:"operation",dataIndex:"operation",width:200}];const c=T(new F([{label:"serviceGovernance",param:"serviceGovernance",placeholder:"typeRoutingRules",style:{width:"200px"}}],O,N)),b=async e=>{(await A(e)).code===200&&await c.onSearch()};g(()=>{c.onSearch()});const x=e=>{b(e)};return D(B.SEARCH_DOMAIN,c),(e,a)=>{const d=C("a-button"),v=C("a-popconfirm");return l(),i("div",Y,[t(M,{"search-domain":c},{customOperation:o(()=>[t(d,{type:"primary",onClick:a[0]||(a[0]=m=>n(u).push("/traffic/addTagRule/addByFormView"))},{default:o(()=>[r(" 新增标签路由规则 ")]),_:1})]),bodyCell:o(({text:m,column:s,record:p})=>[s.dataIndex==="ruleName"?(l(),i("span",{key:0,class:"rule-link",onClick:f=>n(u).push(`/traffic/tagRule/formview/${p[s.key]}`)},[S("b",null,[t(n(V),{style:{"margin-bottom":"-2px"},icon:"material-symbols:attach-file-rounded"}),r(" "+k(m),1)])],8,G)):_("",!0),s.dataIndex==="createTime"?(l(),i(y,{key:1},[r(k(n(P)(m)),1)],64)):_("",!0),s.dataIndex==="enabled"?(l(),i(y,{key:2},[r(k(m?e.$t("flowControlDomain.enabled"):e.$t("flowControlDomain.disabled")),1)],64)):_("",!0),s.dataIndex==="operation"?(l(),i(y,{key:3},[t(d,{type:"link",onClick:f=>n(u).push(`formview/${p.ruleName}`)},{default:o(()=>[r(" 查看 ")]),_:2},1032,["onClick"]),t(d,{onClick:f=>n(u).push(`/traffic/updateTagRule/updateByFormView/${p.ruleName}`),type:"link"},{default:o(()=>[r(" 修改 ")]),_:2},1032,["onClick"]),t(v,{title:"确认删除该标签路由规则？","ok-text":"Yes","cancel-text":"No",onConfirm:f=>x(p.ruleName)},{default:o(()=>[t(d,{type:"link"},{default:o(()=>[r(" 删除 ")]),_:1})]),_:2},1032,["onConfirm"])],64)):_("",!0)]),_:1},8,["search-domain"])])}}}),q=E(J,[["__scopeId","data-v-056b45b2"]]);export{q as default};
