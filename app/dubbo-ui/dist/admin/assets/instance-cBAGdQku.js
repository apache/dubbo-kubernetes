import{d as V,k as P,u as L,b as Y,r as C,O as k,f as y,c as u,t,e as m,h as r,P as f,K as B,o as a,F as I,x as v,v as l,I as x,y as n,z as i,H as M,J as c,Y as j,Z as z,m as F,_ as H}from"./index-ydEeV_dL.js";import{S as J,a as K}from"./SearchUtil-pmlYZKt1.js";import{a as U,b as $}from"./app-xsf0myXG.js";import{f as G}from"./DateUtil-l2rJRPVu.js";import"./request-TC7KOJ9l.js";const X={class:"__container_app_instance"},Z={class:"statistic-icon-big"},q=V({__name:"instance",setup(Q){var h;P(d=>({de0d2ecc:r(f)+"22","021bd496":r(f)}));const S=L(),w=Y();let o=C({info:{},report:{}});k(async()=>{let d=(await U({})).data;o.info=d,o.report={providers:{icon:"carbon:branch",value:o.info.instanceTotal},consumers:{icon:"mdi:merge",value:o.info.versionTotal},cpu:{icon:"carbon:branch",value:o.info.cpuTotal},memory:{icon:"mdi:merge",value:o.info.memoryTotal}}});const D=[{title:"instanceDomain.ip",dataIndex:"ip",key:"ip",sorter:!0,width:150,fixed:"left"},{title:"instanceDomain.name",dataIndex:"name",key:"name",sorter:!0,width:180},{title:"instanceDomain.deployState",dataIndex:"deployState",key:"deployState",sorter:!0,width:150},{title:"instanceDomain.deployCluster",dataIndex:"deployClusters",key:"deployClusters",sorter:!0,width:180},{title:"instanceDomain.registerState",dataIndex:"registerState",key:"registerState",sorter:!0,width:150},{title:"instanceDomain.registerClusters",dataIndex:"registerCluster",key:"registerCluster",sorter:!0,width:200},{title:"instanceDomain.cpu",dataIndex:"cpu",key:"cpu",sorter:!0,width:120},{title:"instanceDomain.memory",dataIndex:"memory",key:"memory",sorter:!0,width:120},{title:"instanceDomain.startTime",dataIndex:"startTime",key:"startTime",sorter:!0,width:150},{title:"instanceDomain.registerTime",dataIndex:"registerTime",key:"registerTime",sorter:!0,width:150},{title:"instanceDomain.labels",dataIndex:"labels",key:"labels",sorter:!0,fixed:"right",width:200}];let T=(h=S.params)==null?void 0:h.pathId;const _=C(new J([{label:"",param:"type",defaultValue:1,dict:[{label:"ip",value:1},{label:"name",value:2},{label:"label",value:3}],style:{width:"100px"}},{label:"",param:"search",style:{width:"300px"}},{label:"",param:"appName",defaultValue:T,dict:[],dictType:"APPLICATION_NAME"}],$,D,{pageSize:4},!0));k(()=>{_.tableStyle={scrollX:"100",scrollY:"500px"},_.onSearch()});const N=d=>{w.push("/resources/services/detail/"+d)};return B(F.SEARCH_DOMAIN,_),(d,W)=>{const E=m("a-statistic"),g=m("a-flex"),O=m("a-card"),R=m("a-button"),p=m("a-tag");return a(),y("div",X,[u(g,{wrap:"wrap",gap:"small",vertical:!1,justify:"space-around",align:"left"},{default:t(()=>[(a(!0),y(I,null,v(r(o).report,(s,e)=>(a(),l(O,{class:"statistic-card"},{default:t(()=>[u(g,{gap:"middle",vertical:!1,justify:"space-between",align:"center"},{default:t(()=>[u(E,{value:s.value,class:"statistic"},{prefix:t(()=>[u(r(x),{class:"statistic-icon",icon:"solar:target-line-duotone"})]),title:t(()=>[n(i(d.$t(e.toString())),1)]),_:2},1032,["value"]),M("div",Z,[u(r(x),{icon:s.icon},null,8,["icon"])])]),_:2},1024)]),_:2},1024))),256))]),_:1}),u(K,{"search-domain":_},{bodyCell:t(({column:s,text:e})=>[s.dataIndex==="name"?(a(),l(R,{key:0,type:"link",onClick:b=>N(e)},{default:t(()=>[n(i(e),1)]),_:2},1032,["onClick"])):c("",!0),s.dataIndex==="deployState"?(a(),l(p,{key:1,color:r(j)[e.toUpperCase()]},{default:t(()=>[n(i(e),1)]),_:2},1032,["color"])):c("",!0),s.dataIndex==="deployClusters"?(a(),l(p,{key:2},{default:t(()=>[n(i(e),1)]),_:2},1024)):c("",!0),s.dataIndex==="registerState"?(a(),l(p,{key:3,color:r(z)[e.toUpperCase()]},{default:t(()=>[n(i(e),1)]),_:2},1032,["color"])):c("",!0),s.dataIndex==="registerCluster"?(a(),l(p,{key:4},{default:t(()=>[n(i(e),1)]),_:2},1024)):c("",!0),s.dataIndex==="labels"?(a(!0),y(I,{key:5},v(e,(b,A)=>(a(),l(p,{color:r(f)},{default:t(()=>[n(i(A)+" : "+i(b),1)]),_:2},1032,["color"]))),256)):c("",!0),s.dataIndex==="registerTime"?(a(),y(I,{key:6},[n(i(r(G)(e)),1)],64)):c("",!0)]),_:1},8,["search-domain"])])}}}),ie=H(q,[["__scopeId","data-v-b56a6057"]]);export{ie as default};
