# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

address: 0.0.0.0:38089

kubeTimeSecond: 5

mysql:
  name: horus
  addr: "root:root@tcp(127.0.0.1:3306)/horus?charset=utf8&parseTime=True"
  debug: false

dingTalk:
  webhookUrl: ~
  title: ~
  atMobiles: ~

slack:
  webhookUrl: ~
  proxy: ~
  payload: ~

kubeMultiple:
  cluster: config.1

promMultiple:
  cluster: http://192.168.15.128:30201

nodeRecovery:
  enabled: true
  dayNumber: 1
  checkIntervalSecond: 5
  promQueryTimeSecond: 10
  dingTalk:
    webhookUrl: "https://oapi.dingtalk.com/robot/send?access_token=37f8891e60e524013275cc01efafdb5976b81ef7269ce271b769bcd025826c12"
    title: "horus 通知"
    atMobiles:
      - 15000000

customModular:
  enabled: false
  cordonDailyLimit:
    filesystem_readonly: 5
    arp_entries: 5
  checkQL:
    filesystem_readonly: |-
      node_filesystem_readonly{mountpoint="/"} == 1
    arp_entries: |-
      node_arp_entries{device="ens160"} > 2
  recoveryQL:
    filesystem_readonly: |-
      node_filesystem_readonly{mountpoint="/"} == 0
    arp_entries: |-
      node_arp_entries{device="ens160"} > 2
  checkIntervalSecond: 5
  promQueryTimeSecond: 10
  kubeMultiple:
    cluster: config.1
  dingTalk:
    webhookUrl: "https://oapi.dingtalk.com/robot/send?access_token=37f8891e60e524013275cc01efafdb5976b81ef7269ce271b769bcd025826c12"
    title: "horus 通知"
    atMobiles:
      - 15000000