# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

---
# Source: grafana/templates/serviceaccount.yaml
apiVersion: v1
kind: ServiceAccount
automountServiceAccountToken: false
metadata:
  labels:
    helm.sh/chart: grafana-8.6.3
    app.kubernetes.io/name: grafana
    app.kubernetes.io/instance: grafana
    app.kubernetes.io/version: "11.3.1"
  name: grafana
  namespace: dubbo-system
---
# Source: grafana/templates/configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: grafana
  namespace: dubbo-system
  labels:
    helm.sh/chart: grafana-8.6.3
    app.kubernetes.io/name: grafana
    app.kubernetes.io/instance: grafana
    app.kubernetes.io/version: "11.3.1"
data:
  grafana.ini: |
    [analytics]
    check_for_updates = true
    [grafana_net]
    url = https://grafana.net
    [log]
    mode = console
    [paths]
    data = /var/lib/grafana/
    logs = /var/log/grafana
    plugins = /var/lib/grafana/plugins
    provisioning = /etc/grafana/provisioning
    [server]
    domain = ''
  datasources.yaml: |
    apiVersion: 1
    datasources:
      - access: proxy
        editable: true
        isDefault: true
        jsonData:
          timeInterval: 15s
        name: Prometheus
        orgId: 1
        type: prometheus
        url: http://prometheus:9090
      - access: proxy
        editable: true
        isDefault: false
        jsonData:
          timeInterval: 15s
        name: Jaeger
        orgId: 1
        type: jaeger
        url: http://tracing:16686
  dashboardproviders.yaml: |
    apiVersion: 1
    providers:
      - disableDeletion: false
        name: dashboards-dubbo-metrics
        folder: dubbo/metrics
        options:
          path: /var/lib/grafana/dashboards/dubbo/metrics
        orgId: 1
        type: file
      - disableDeletion: false
        name: dashboards-dubbo-traces
        folder: dubbo/traces
        options:
          path: /var/lib/grafana/dashboards/dubbo/traces
        orgId: 1
        type: file
---
# Source: grafana/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: grafana
  namespace: dubbo-system
  labels:
    helm.sh/chart: grafana-8.6.3
    app.kubernetes.io/name: grafana
    app.kubernetes.io/instance: grafana
    app.kubernetes.io/version: "11.3.1"
spec:
  type: NodePort
  ports:
    - name: service
      port: 3000
      protocol: TCP
      targetPort: 3000
  selector:
    app.kubernetes.io/name: grafana
    app.kubernetes.io/instance: grafana
---
# Source: grafana/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: grafana
  namespace: dubbo-system
  labels:
    helm.sh/chart: grafana-8.6.3
    app.kubernetes.io/name: grafana
    app.kubernetes.io/instance: grafana
    app.kubernetes.io/version: "11.3.1"
spec:
  replicas: 1
  revisionHistoryLimit: 10
  selector:
    matchLabels:
      app.kubernetes.io/name: grafana
      app.kubernetes.io/instance: grafana
  strategy:
    type: RollingUpdate
  template:
    metadata:
      labels:
        helm.sh/chart: grafana-8.6.3
        app.kubernetes.io/name: grafana
        app.kubernetes.io/instance: grafana
        app.kubernetes.io/version: "11.3.1"
    spec:
      serviceAccountName: grafana
      automountServiceAccountToken: true
      enableServiceLinks: true
      containers:
        - name: grafana
          image: "docker.io/grafana/grafana:11.3.1"
          imagePullPolicy: IfNotPresent
          securityContext:
            allowPrivilegeEscalation: false
            capabilities:
              drop:
                - ALL
            seccompProfile:
              type: RuntimeDefault
          volumeMounts:
            - name: storage
              mountPath: "/var/lib/grafana"
            - name: config
              mountPath: "/etc/grafana/grafana.ini"
              subPath: grafana.ini
            - name: config
              mountPath: "/etc/grafana/provisioning/dashboards/dashboardproviders.yaml"
              subPath: "dashboardproviders.yaml"
            - name: config
              mountPath: "/etc/grafana/provisioning/datasources/datasources.yaml"
              subPath: "datasources.yaml"
            - mountPath: "/var/lib/grafana/dashboards/dubbo/metrics"
              name: dashboards-dubbo-metrics
            - mountPath: "/var/lib/grafana/dashboards/dubbo/traces"
              name: dashboards-dubbo-traces
          ports:
            - name: grafana
              containerPort: 3000
              protocol: TCP
            - name: gossip-tcp
              containerPort: 9094
              protocol: TCP
            - name: gossip-udp
              containerPort: 9094
              protocol: UDP
          env:
            - name: POD_IP
              valueFrom:
                fieldRef:
                  fieldPath: status.podIP
            - name: GF_PATHS_DATA
              value: /var/lib/grafana/
            - name: GF_PATHS_LOGS
              value: /var/log/grafana
            - name: GF_PATHS_PLUGINS
              value: /var/lib/grafana/plugins
            - name: GF_PATHS_PROVISIONING
              value: /etc/grafana/provisioning
            - name: "GF_AUTH_ANONYMOUS_ENABLED"
              value: "true"
            - name: "GF_AUTH_ANONYMOUS_ORG_ROLE"
              value: "Admin"
            - name: "GF_AUTH_BASIC_ENABLED"
              value: "false"
            - name: "GF_SECURITY_ADMIN_PASSWORD"
              value: "admin"
            - name: "GF_SECURITY_ADMIN_USER"
              value: "admin"
          livenessProbe:
            failureThreshold: 10
            httpGet:
              path: /api/health
              port: 3000
            initialDelaySeconds: 60
            timeoutSeconds: 30
          readinessProbe:
            httpGet:
              path: /api/health
              port: 3000
      volumes:
        - name: config
          configMap:
            name: grafana
        - configMap:
            name: dubbo-metrics-grafana-dashboards
          name: dashboards-dubbo-metrics
        - configMap:
            name: dubbo-traces-grafana-dashboards
          name: dashboards-dubbo-traces
        - name: storage
          emptyDir: {}
---

apiVersion: v1
data:
  dubbo-metrics-application-dashboard.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":39,"links":[],"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":14,"panels":[],"title":"应用概览","type":"row"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":1,"min":0,"noValue":"无","thresholds":{"mode":"percentage","steps":[{"color":"dark-red","value":null},{"color":"dark-yellow","value":90},{"color":"dark-green","value":100}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":7,"w":3,"x":0,"y":1},"id":19,"options":{"minVizHeight":75,"minVizWidth":75,"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":true,"showThresholdMarkers":true,"sizing":"auto","text":{}},"pluginVersion":"10.4.14","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"(sum(dubbo_consumer_requests_succeed_total{application_name=\"$application\"})   / sum(dubbo_consumer_requests_total{application_name=\"$application\"})  ) OR on() vector(NAN)","hide":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"调用成功率（作为消费者）","type":"gauge"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":1,"min":0,"noValue":"No data","thresholds":{"mode":"percentage","steps":[{"color":"dark-red","value":null},{"color":"dark-yellow","value":90},{"color":"dark-green","value":100}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":7,"w":3,"x":3,"y":1},"id":20,"options":{"minVizHeight":75,"minVizWidth":75,"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":true,"showThresholdMarkers":true,"sizing":"auto","text":{}},"pluginVersion":"10.4.14","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (dubbo_provider_requests_succeed_total{application_name=\"$application\"}) / sum (dubbo_provider_requests_total{application_name=\"$application\"}) OR  vector(0)","hide":false,"instant":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"被调用成功率（作为生产者）","type":"gauge"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":6,"x":6,"y":1},"id":43,"interval":"1s","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_provider_qps_total{application_name=\"$application\"})","instant":false,"legendFormat":"生产者被调用","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_consumer_qps_total{application_name=\"$application\"})","hide":false,"instant":false,"legendFormat":"消费者调用","range":true,"refId":"B"}],"title":"QPS","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":7,"w":6,"x":12,"y":1},"id":48,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_avg_milliseconds_aggregate{application_name=\"$application\"}>0)","format":"time_series","instant":false,"interval":"","legendFormat":"调用 avg RT","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_provider_rt_avg_milliseconds_aggregate{application_name=\"$application\"}>0)","hide":false,"instant":false,"legendFormat":"被调用 avg RT","range":true,"refId":"B"}],"title":"RT","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"当前正在处理的请求","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":6,"x":18,"y":1},"id":60,"interval":"1s","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_provider_requests_processing{application_name=\"$application\"} or vector(0)","instant":false,"legendFormat":"生产者处理并发量","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_consumer_requests_processing{application_name=\"$application\"} or vector(0)","hide":false,"instant":false,"legendFormat":"消费者调用并发量","range":true,"refId":"B"}],"title":"并发","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"percentage","steps":[{"color":"dark-green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":0,"y":8},"id":63,"options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"/^实时时延$/","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.4.14","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_provider_rt_milliseconds_last{application_name=\"$application\"})","instant":false,"legendFormat":"实时时延","range":true,"refId":"A"}],"title":"最近调用RT（作为生产者）","type":"stat"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":9,"x":6,"y":8},"id":31,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_total{application_name=\"$application\"}[2m])>0) OR vector(0)","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_succeed_total{application_name=\"$application\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"成功数","range":true,"refId":"D"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_total{application_name=\"$application\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"失败数","range":true,"refId":"E"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_business_failed_total{application_name=\"$application\"}[2m])>0)  OR vector(0)","hide":false,"instant":false,"legendFormat":"业务原因失败数","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_timeout_total{application_name=\"$application\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"超时数","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_unknown_failed_tota{application_name=\"$application\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"未知原因失败数","range":true,"refId":"F"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_service_unavailable_total{application_name=\"$application\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"服务不可用数","range":true,"refId":"G"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_network_total{application_name=\"$application\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"网络错误数","range":true,"refId":"H"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_codec_total{application_name=\"$application\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"编解码错误数","range":true,"refId":"I"}],"title":"调用总览(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":9,"x":15,"y":8},"id":3,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_total{application_name=\"$application\"}[2m])) OR vector(0)","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_succeed_total{application_name=\"$application\"}[2m]) ) OR vector(0)","hide":false,"instant":false,"legendFormat":"成功数","range":true,"refId":"D"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_total{application_name=\"$application\"}[2m]) ) OR vector(0)","hide":false,"instant":false,"legendFormat":"失败数","range":true,"refId":"E"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_business_failed_total{application_name=\"$application\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"业务原因失败数","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_timeout_total{application_name=\"$application\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"超时数","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_unknown_failed_tota{application_name=\"$application\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"未知原因失败数","range":true,"refId":"F"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_failed_service_unavailable_total{application_name=\"$application\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"服务不可用数","range":true,"refId":"G"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_failed_network_total{application_name=\"$application\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"网络错误数","range":true,"refId":"H"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_failed_codec_total{application_name=\"$application\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"序列化错误数","range":true,"refId":"I"}],"title":"被调用总览(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"percentage","steps":[{"color":"dark-green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":0,"y":13},"id":62,"options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"/^实时时延$/","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"10.4.14","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_consumer_rt_milliseconds_last{application_name=\"$application\"})","instant":false,"legendFormat":"实时时延","range":true,"refId":"A"}],"title":"最近调用RT（作为消费者）","type":"stat"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":18},"id":6,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[]},"gridPos":{"h":10,"w":12,"x":0,"y":42},"id":1,"interval":"1s","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(sum(dubbo_provider_qps_total{application_name=\"$application\"}) by (instance))","hide":false,"instant":false,"legendFormat":"平均QPS","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":true,"expr":"sum(dubbo_provider_qps_total{application_name=\"$application\"}) by (instance, pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"被调用QPS（作为生产者）","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":12,"x":12,"y":42},"id":2,"interval":"1s","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(sum(dubbo_consumer_qps_total{application_name=\"$application\"}) by (instance))","hide":false,"instant":false,"legendFormat":"平均QPS","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":true,"expr":"sum(dubbo_consumer_qps_total{application_name=\"$application\"}) by (instance, pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"调用QPS（作为消费者）","type":"timeseries"}],"title":"QPS (生产者 & 消费者)","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":19},"id":36,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":0,"y":37},"id":32,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_total{application_name=\"$application\"}[2m])>0)","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_total{application_name=\"$application\"}[2m])>0) by (instance,pod) ","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"调用总数(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":8,"y":37},"id":33,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_succeed_total{application_name=\"$application\"}[2m])>0) ","instant":false,"legendFormat":"成功总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_succeed_total{application_name=\"$application\"}[2m])>0) by (instance,pod) ","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"调用成功(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":16,"y":37},"id":34,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_total{application_name=\"$application\"}[2m])>0) ","instant":false,"legendFormat":"失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_total{application_name=\"$application\"}[2m])>0) by (instance,pod) ","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"调用失败(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":0,"y":47},"id":35,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_business_failed_total{application_name=\"$application\"}[2m]))","instant":false,"legendFormat":"业务原因错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_business_failed_total{application_name=\"$application\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"业务原因错误(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":8,"y":47},"id":38,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_timeout_total{application_name=\"$application\"}[2m])) ","instant":false,"legendFormat":"超时错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_timeout_total{application_name=\"$application\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"超时错误(Consumer 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":16,"y":47},"id":40,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_service_unavailable_total{application_name=\"$application\"}[2m])) >0","instant":false,"legendFormat":"服务不可用总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_service_unavailable_total{application_name=\"$application\"}[2m])) by (instance,pod) >0","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"服务不可用错误(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":0,"y":57},"id":41,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_network_total{application_name=\"$application\"}[2m])) ","instant":false,"legendFormat":"网络错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_network_total{application_name=\"$application\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"网络错误(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":8,"y":57},"id":42,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_codec_total{application_name=\"$application\"}[2m])) ","instant":false,"legendFormat":"序列化错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_codec_total{application_name=\"$application\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"序列化错误(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":16,"y":57},"id":39,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_unknown_failed_tota{application_name=\"$application\"}[2m])) >0","instant":false,"legendFormat":"未知原因失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_unknown_failed_total{application_name=\"$application\"}[2m])) by (instance,pod)>0","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"未知原因错误(作为消费者 2min)","type":"timeseries"}],"title":"应用调用详情（作为消费者）","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":20},"id":5,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":0,"y":21},"id":21,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_total{application_name=\"$application\"}[2m])) >0","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_total{application_name=\"$application\"}[2m])) by (instance,pod)>0","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"被调用总数(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":8,"y":21},"id":23,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_succeed_total{application_name=\"$application\"}[2m])) >0","instant":false,"legendFormat":"成功数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_succeed_total{application_name=\"$application\"}[2m])) by (instance,pod)>0","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"被调用成功(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":16,"y":21},"id":22,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_total{application_name=\"$application\"}[2m]))>0","instant":false,"legendFormat":"失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_total{application_name=\"$application\"}[2m])) by (instance,pod)>0","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"被调用失败(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":0,"y":31},"id":25,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_business_failed_total{application_name=\"$application\"}[2m]))>0","instant":false,"legendFormat":"业务原因错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_business_failed_total{application_name=\"$application\"} [2m]) )by(instance,pod)>0\r\n","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"业务原因错误(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":8,"y":31},"id":26,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_timeout_total{application_name=\"$application\"}[2m]))","instant":false,"legendFormat":"超时总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_timeout_total{application_name=\"$application\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"超时错误(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":16,"y":31},"id":28,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_service_unavailable_total{application_name=\"$application\"}[2m]))","instant":false,"legendFormat":"服务不可用总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_service_unavailable_total{application_name=\"$application\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"服务不可用错误(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":0,"y":41},"id":29,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_network_total{application_name=\"$application\"}[2m]))>0","instant":false,"legendFormat":"网络错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(label_replace(increase(dubbo_provider_requests_failed_network_total{application_name=\"$application\"}[2m]), \"instance\", \"$1\", \"instance\", \"(.*):.*\")) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"网络错误(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":8,"y":41},"id":30,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_codec_total{application_name=\"$application\"}[2m])) >0","instant":false,"legendFormat":"序列化错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_codec_total{application_name=\"$application\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"序列化错误(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":8,"x":16,"y":41},"id":27,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_unknown_failed_total{application_name=\"$application\"}[2m])) >0","instant":false,"legendFormat":"未知原因失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_unknown_failed_total{application_name=\"$application\"}[2m])) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"未知原因错误(作为生产者 2min)","type":"timeseries"}],"title":"应用被调用详情（作为生产者）","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":21},"id":51,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":13,"x":0,"y":22},"id":49,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p95{application_name=\"$application\",}>0)","hide":true,"instant":false,"legendFormat":"avgRT P95 ","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p95{application_name=\"$application\",}>0) by(instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{pod}","range":true,"refId":"B"}],"title":"调用 RT P95(作为消费者)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":11,"x":13,"y":22},"id":50,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p99{application_name=\"$application\",}>0)","hide":true,"instant":false,"legendFormat":"avg (RT P99)","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p99{application_name=\"$application\",}>0) by (instance,pod)","hide":false,"instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"B"}],"title":"调用 RT P99(作为消费者)","type":"timeseries"}],"title":"应用请求时延RT (Consumer)","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":22},"id":7,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":13,"x":0,"y":23},"id":10,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p95{application_name=\"$application\",}>0) by (instance,pod)","instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"A"}],"title":"RT P95(作为生产者)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":11,"x":13,"y":23},"id":11,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p99{application_name=\"$application\",}>0) by (instance,pod)","instant":false,"legendFormat":"{{instance}}_{{pod}}","range":true,"refId":"A"}],"title":"响应平均时延 P99(Provider)","type":"timeseries"}],"title":"应用响应时延RT (Provider)","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":23},"id":54,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":9,"gradientMode":"hue","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineStyle":{"fill":"solid"},"lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"dark-purple"}]}},"overrides":[]},"gridPos":{"h":7,"w":12,"x":0,"y":24},"id":52,"interval":"30s","options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum(dubbo_registry_register_requests_total{application_name=\"$application\"})","format":"time_series","instant":false,"interval":"","legendFormat":"注册总次数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_registry_register_requests_succeed_total{application_name=\"$application\"})OR on() vector(0)","format":"time_series","hide":false,"legendFormat":"注册成功数","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum(dubbo_registry_register_requests_failed_total{application_name=\"$application\"})  OR on() vector(0)","hide":false,"instant":false,"legendFormat":"注册失败数","range":true,"refId":"C"}],"title":"注册实例次数","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":12,"x":12,"y":24},"id":53,"interval":"30s","options":{"legend":{"calcs":[],"displayMode":"list","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"dubbo_register_rt_milliseconds_sum{application_name=\"$application\"}","format":"time_series","hide":false,"instant":false,"interval":"","legendFormat":"{{instance}}","range":true,"refId":"A"}],"title":"实例注册时长","type":"timeseries"}],"title":"注册中心","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":24},"id":61,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"只有启动成功的实例并接入监控的才会显示","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"align":"center","cellOptions":{"type":"json-view"},"inspect":false},"links":[],"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"dark-green"}]}},"overrides":[{"matcher":{"id":"byName","options":"Time"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"Value"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"application_version"},"properties":[{"id":"custom.width","value":151}]},{"matcher":{"id":"byName","options":"clusterName"},"properties":[{"id":"custom.width","value":107}]},{"matcher":{"id":"byName","options":"instance"},"properties":[{"id":"custom.width","value":133},{"id":"displayName","value":"ip"}]},{"matcher":{"id":"byName","options":"application_name"},"properties":[{"id":"custom.width","value":167}]}]},"gridPos":{"h":7,"w":10,"x":0,"y":139},"id":15,"options":{"cellHeight":"sm","footer":{"countRows":true,"enablePagination":true,"fields":[],"reducer":["count"],"show":false},"showHeader":true,"sortBy":[]},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"count (dubbo_application_info_total{application_name=\"$application\"}) by(application_name,instance,application_version,host,pod,clusterName)","format":"table","instant":true,"legendFormat":"实例总数","range":false,"refId":"A"}],"title":"实例","type":"table"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"有请求的接口才会展示","fieldConfig":{"defaults":{"color":{"mode":"fixed"},"custom":{"align":"center","cellOptions":{"type":"json-view"},"filterable":false,"inspect":true},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[{"matcher":{"id":"byName","options":"Time"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"Value"},"properties":[{"id":"custom.hidden","value":true}]}]},"gridPos":{"h":7,"w":7,"x":10,"y":139},"id":56,"options":{"cellHeight":"sm","footer":{"countRows":false,"enablePagination":true,"fields":["Value"],"reducer":["sum"],"show":true},"showHeader":true,"sortBy":[]},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"count by(interface,version) (dubbo_provider_requests_total{application_name=\"$application\",interface!~\"org.apache.dubbo.metrics.service.MetricsService|org.apache.dubbo.metadata.MetadataService\"})","format":"table","instant":true,"range":false,"refId":"A"}],"title":"提供接口","type":"table"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"有请求的接口才会展示","fieldConfig":{"defaults":{"color":{"mode":"fixed"},"custom":{"align":"center","cellOptions":{"type":"json-view"},"filterable":false,"inspect":true},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[{"matcher":{"id":"byName","options":"Time"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"Value"},"properties":[{"id":"custom.hidden","value":true}]}]},"gridPos":{"h":7,"w":7,"x":17,"y":139},"id":58,"options":{"cellHeight":"sm","footer":{"countRows":false,"enablePagination":true,"fields":["Value"],"reducer":["sum"],"show":true},"showHeader":true,"sortBy":[]},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"count by(interface,version) (dubbo_consumer_requests_total{application_name=\"$application\",interface!~\"org.apache.dubbo.metrics.service.MetricsService|org.apache.dubbo.metadata.MetadataService\"})","format":"table","instant":true,"range":false,"refId":"A"}],"title":"消费接口","type":"table"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false}},"mappings":[],"noValue":"NAN"},"overrides":[]},"gridPos":{"h":5,"w":2,"x":0,"y":146},"id":55,"options":{"displayLabels":["name","value"],"legend":{"displayMode":"table","placement":"bottom","showLegend":true},"pieType":"pie","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"tooltip":{"mode":"single","sort":"desc"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"count by(application_version)(dubbo_application_info_total{application_name=\"$application\",instance=~\".*\"})","instant":true,"legendFormat":"{{application_version}}","range":false,"refId":"A"}],"title":"实例版本分布","type":"piechart"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"准确的提供接口数量","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"dark-green"}]}},"overrides":[]},"gridPos":{"h":5,"w":3,"x":2,"y":146},"id":16,"options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"text":{"titleSize":100},"textMode":"value"},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"count(count by(interface) (dubbo_provider_requests_total{application_name=\"$application\",interface!~\"org.apache.dubbo.metrics.service.MetricsService|org.apache.dubbo.metadata.MetadataService\"}))","format":"time_series","instant":true,"range":false,"refId":"A"}],"title":"提供接口数","type":"stat"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"准确的提供接口数量","fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"dark-green"}]}},"overrides":[]},"gridPos":{"h":5,"w":3,"x":5,"y":146},"id":59,"options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"text":{"titleSize":100},"textMode":"value"},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"count(count by(interface) (dubbo_consumer_requests_total{application_name=\"$application\",interface!~\"org.apache.dubbo.metrics.service.MetricsService|org.apache.dubbo.metadata.MetadataService\"}))","format":"time_series","instant":true,"range":false,"refId":"A"}],"title":"消费接口数","type":"stat"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"custom":{"hideFrom":{"legend":false,"tooltip":false,"viz":false},"scaleDistribution":{"type":"linear"}}},"overrides":[]},"gridPos":{"h":12,"w":24,"x":0,"y":151},"id":47,"options":{"calculate":true,"calculation":{"xBuckets":{"mode":"size"},"yBuckets":{"mode":"size","scale":{"log":10,"type":"log"}}},"cellGap":0,"color":{"exponent":0.5,"fill":"dark-orange","mode":"scheme","reverse":false,"scale":"exponential","scheme":"Oranges","steps":64},"exemplars":{"color":"rgba(255,0,255,0.7)"},"filterValues":{"le":1e-9},"legend":{"show":true,"showLegend":true},"rowsFrame":{"layout":"le"},"tooltip":{"show":true,"yHistogram":true},"yAxis":{"axisPlacement":"right","decimals":1,"reverse":false,"unit":"ms"}},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"histogram_quantile(0.9, sum(rate(dubbo_provider_rt_milliseconds_histogram_seconds_bucket{application_name=\"$application\",method=\"getItem\"}[2m])) by (le))","format":"heatmap","hide":false,"instant":false,"legendFormat":"__auto","range":true,"refId":"A"}],"title":"响应时延热点图 (Provider)","type":"heatmap"}],"title":"deprecated","type":"row"}],"refresh":"1m","schemaVersion":39,"tags":[],"templating":{"list":[{"current":{"selected":false,"text":"prometheus","value":"P1809F7CD0C75ACF3"},"hide":0,"includeAll":false,"multi":false,"name":"datasource","options":[],"query":"prometheus","refresh":1,"regex":"","skipUrlSync":false,"type":"datasource"},{"current":{"selected":false,"text":"shop-detail","value":"shop-detail"},"datasource":{"type":"prometheus","uid":"${datasource}"},"definition":"label_values(dubbo_application_info_total{},application_name)","hide":0,"includeAll":false,"multi":false,"name":"application","options":[],"query":{"query":"label_values(dubbo_application_info_total{},application_name)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":2,"regex":"","skipUrlSync":false,"sort":1,"type":"query"},{"allValue":".*","current":{"selected":true,"text":["All"],"value":["$__all"]},"datasource":{"type":"prometheus","uid":"${datasource}"},"definition":"label_values(dubbo_application_info_total{application_name=\"$application\"},instance)","hide":0,"includeAll":true,"multi":true,"name":"instance","options":[],"query":{"query":"label_values(dubbo_application_info_total{application_name=\"$application\"},instance)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":1,"regex":"","skipUrlSync":false,"sort":0,"type":"query"}]},"time":{"from":"now-15m","to":"now"},"timepicker":{},"timezone":"","title":"application","uid":"a0b114ca-edf7-4dfe-ac2c-34a4fc545fed","version":2,"weekStart":""}
  dubbo-metrics-instance-dashboard.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":41,"links":[],"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":1,"panels":[],"title":"实例概览","type":"row"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":1,"min":0,"noValue":"无","thresholds":{"mode":"percentage","steps":[{"color":"dark-red","value":null},{"color":"dark-yellow","value":90},{"color":"dark-green","value":95}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":7,"w":3,"x":0,"y":1},"id":10,"options":{"minVizHeight":75,"minVizWidth":75,"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":true,"showThresholdMarkers":true,"sizing":"auto","text":{}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"(sum(dubbo_consumer_requests_succeed_total{application_name=\"$application\",instance=\"$instance\"})   / sum(dubbo_consumer_requests_total{application_name=\"$application\",instance=\"$instance\"})  ) OR on() vector(NAN)","hide":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"调用成功率（作为消费者）","type":"gauge"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":1,"min":0,"noValue":"No data","thresholds":{"mode":"percentage","steps":[{"color":"dark-red","value":null},{"color":"dark-yellow","value":90},{"color":"dark-green","value":95}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":7,"w":3,"x":3,"y":1},"id":9,"options":{"minVizHeight":75,"minVizWidth":75,"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":true,"showThresholdMarkers":true,"sizing":"auto","text":{}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (dubbo_provider_requests_succeed_total{application_name=\"$application\",instance=\"$instance\"}) / sum (dubbo_provider_requests_total{application_name=\"$application\",instance=\"$instance\"}) OR  vector(0)","hide":false,"instant":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"被调用成功率（作为生产者）","type":"gauge"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":6,"x":6,"y":1},"id":7,"interval":"1s","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":true,"expr":"sum(dubbo_provider_qps_total{application_name=\"$application\",instance=\"$instance\"})","instant":false,"legendFormat":"提供端QPS","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_consumer_qps_total{application_name=\"$application\",instance=\"$instance\"})","hide":false,"instant":false,"legendFormat":"消费者QPS","range":true,"refId":"B"}],"title":"QPS","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":7,"w":6,"x":12,"y":1},"id":16,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_consumer_rt_avg_milliseconds_aggregate{application_name=\"$application\",instance=\"$instance\",}>0)","instant":false,"legendFormat":"消费者RT","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_provider_rt_avg_milliseconds_aggregate{application_name=\"$application\",instance=\"$instance\",}>0)","hide":false,"instant":false,"legendFormat":"提供端RT","range":true,"refId":"C"}],"title":"RT","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":6,"x":18,"y":1},"id":51,"interval":"1s","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum (dubbo_provider_requests_processing{instance=\"$instance\"} ) OR vector (0)","instant":false,"legendFormat":"生产者处理并发量","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_consumer_requests_processing{instance=\"$instance\"}) OR vector (0)","hide":false,"instant":false,"legendFormat":"消费者调用并发量","range":true,"refId":"B"}],"title":"并发","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[{"options":{"":{"index":0,"text":"{{.Value}}ms"}},"type":"value"}],"thresholds":{"mode":"percentage","steps":[{"color":"dark-green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":0,"y":8},"id":23,"interval":"15","options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"/^实时时延$/","values":false},"showPercentChange":false,"text":{},"textMode":"auto","wideLayout":true},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_provider_rt_milliseconds_last{application_name=\"$application\",instance=\"$instance\"}","instant":false,"legendFormat":"实时时延","range":true,"refId":"A"}],"title":"最近被调用RT（作为生产者）","type":"stat"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":9,"x":6,"y":8},"id":5,"interval":"15","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_total{application_name=\"$application\",instance=\"$instance\"}[2m])) OR vector(0)","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_succeed_total{application_name=\"$application\",instance=\"$instance\"}[2m]) ) OR vector(0)","hide":false,"instant":false,"legendFormat":"成功数","range":true,"refId":"D"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_total{application_name=\"$application\",instance=\"$instance\"}[2m]) ) OR vector(0)","hide":false,"instant":false,"legendFormat":"失败数","range":true,"refId":"E"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_business_failed_total{application_name=\"$application\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"业务原因失败数","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_timeout_total{application_name=\"$application\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"请求超时数","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_unknown_failed_tota{application_name=\"$application\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"未知原因失败数","range":true,"refId":"F"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_service_unavailable_total{application_name=\"$application\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"服务不可用数","range":true,"refId":"G"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_network_total{application_name=\"$application\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"网络错误数","range":true,"refId":"H"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_codec_total{application_name=\"$application\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"序列化错误数","range":true,"refId":"I"}],"title":"实例调用(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":9,"x":15,"y":8},"id":4,"interval":"15","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_total{application_name=\"$application\",instance=\"$instance\"}[2m])) OR vector(0)","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_succeed_total{application_name=\"$application\",instance=\"$instance\"}[2m]) ) OR vector(0)","hide":false,"instant":false,"legendFormat":"成功数","range":true,"refId":"D"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_total{application_name=\"$application\",instance=\"$instance\"}[2m]) ) OR vector(0)","hide":false,"instant":false,"legendFormat":"失败数","range":true,"refId":"E"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_business_failed_total{application_name=\"$application\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"业务原因失败数","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_timeout_total{application_name=\"$application\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"超时数","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_unknown_failed_tota{application_name=\"$application\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"未知原因失败数","range":true,"refId":"F"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_failed_service_unavailable_total{application_name=\"$application\",instance=\"$instance\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"服务不可用数","range":true,"refId":"G"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_failed_network_total{application_name=\"$application\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"网络错误数","range":true,"refId":"H"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_provider_requests_failed_codec_total{application_name=\"$application\"}[2m])) OR vector(0)","hide":false,"instant":false,"legendFormat":"序列化错误数","range":true,"refId":"I"}],"title":"实例被调用(作为生产者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[{"options":{"":{"index":0,"text":"{{.Value}}ms"}},"type":"value"}],"thresholds":{"mode":"percentage","steps":[{"color":"dark-green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":0,"y":13},"id":28,"interval":"5","options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"/^实时时延$/","values":false},"showPercentChange":false,"text":{},"textMode":"auto","wideLayout":true},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_consumer_rt_milliseconds_last{application_name=\"$application\",instance=\"$instance\"}","instant":false,"legendFormat":"实时时延","range":true,"refId":"A"}],"title":"最近调用时延（作为消费者）","type":"stat"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":18},"id":6,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":12,"x":0,"y":44},"id":29,"interval":"1s","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":true,"expr":"sum(dubbo_provider_qps_total{application_name=\"$application\",instance=\"$instance\",}) by (interface)","instant":false,"legendFormat":"{{interface}}","range":true,"refId":"A"}],"title":"提供接口QPS（作为生产者）","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":12,"x":12,"y":44},"id":30,"interval":"1s","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":true,"expr":"sum(dubbo_consumer_qps_total{application_name=\"$application\",instance=\"$instance\",}) by (interface)","instant":false,"legendFormat":"{{interface}}","range":true,"refId":"A"}],"title":"依赖接口QPS（作为消费者）","type":"timeseries"}],"title":"实例QPS 详情（生产者&消费者）","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":19},"id":38,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":45},"id":45,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_total{instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"请求总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_total{instance=\"$instance\",}[2m])) by (interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"请求总数(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":45},"id":46,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_succeed_total{instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"请求成功总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_succeed_total{instance=\"$instance\",}[2m])) by (interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"请求成功(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":45},"id":47,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_total{instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"请求失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_total{instance=\"$instance\",}[2m])) by (interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"请求失败(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":53},"id":39,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_business_failed_total{application_name=\"$application\",instance=\"$instance\",}[2m])) by(interface) or vector(0)","instant":false,"legendFormat":"业务原因错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_business_failed_total{application_name=\"$application\",instance=\"$instance\",}[2m])) by(interface)","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"业务原因错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":53},"id":40,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_timeout_total{application_name=\"$application\",instance=\"$instance\",}[2m]))  or vector(0)","instant":false,"legendFormat":"超时错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_timeout_total{application_name=\"$application\",instance=\"$instance\",}[2m])) by(interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"超时错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":53},"id":42,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_service_unavailable_total{application_name=\"$application\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"服务不可用错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_service_unavailable_total{application_name=\"$application\",instance=\"$instance\",}[2m])) by(interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"服务不可用错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":61},"id":43,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_network_total{application_name=\"$application\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"网络错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_network_total{application_name=\"$application\",instance=\"$instance\",}[2m])) by(interface)  ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"网络错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":61},"id":44,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_codec_total{application_name=\"$application\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"序列化错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_codec_total{application_name=\"$application\",instance=\"$instance\",}[2m])) by(interface)  ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"序列化错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":61},"id":41,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_unknown_failed_tota{application_name=\"$application\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"未知原因错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_unknown_failed_tota{application_name=\"$application\",instance=\"$instance\",}[2m])) by(interface)","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"未知原因错误(2min)","type":"timeseries"}],"title":"实例被调用详情（作为生产者）","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":20},"id":31,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":46},"id":48,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_total{instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"调用总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_total{instance=\"$instance\",}[2m])) by (interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"调用总数(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":46},"id":49,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_succeed_total{instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"调用成功总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_succeed_total{instance=\"$instance\",}[2m])) by (interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"调用成功(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":46},"id":50,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_total{instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"调用失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_total{instance=\"$instance\",}[2m])) by (interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"调用失败(作为消费者 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[{"__systemRef":"hideSeriesFrom","matcher":{"id":"byNames","options":{"mode":"exclude","names":["Value"],"prefix":"All except:","readOnly":true}},"properties":[{"id":"custom.hideFrom","value":{"legend":false,"tooltip":false,"viz":true}}]}]},"gridPos":{"h":8,"w":8,"x":0,"y":54},"id":32,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_business_failed_total{application_name=\"$application\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"业务原因错误","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_business_failed_total{application_name=\"$application\",instance=\"$instance\",}[2m])) by(interface)","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"业务原因错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":54},"id":33,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_timeout_total{application_name=\"$application\",instance=\"$instance\",}[2m]))  or vector(0)","instant":false,"legendFormat":"超时错误","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_timeout_total{application_name=\"$application\",instance=\"$instance\",}[2m])) by(interface)","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"超时错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":54},"id":35,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_service_unavailable_total{application_name=\"$application\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"服务不可用","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_service_unavailable_total{application_name=\"$application\",instance=\"$instance\",}[2m])) by(interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"服务不可用错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":62},"id":36,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_network_total{application_name=\"$application\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"网络错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_network_total{application_name=\"$application\",instance=\"$instance\",}[2m])) by(interface)","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"网络错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":62},"id":37,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_codec_total{application_name=\"$application\",instance=\"$instance\",}[2m])) or vector(0)","instant":false,"legendFormat":"序列化错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_codec_total{application_name=\"$application\",instance=\"$instance\",}[2m])) by(interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"序列化错误(2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":62},"id":34,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_unknown_failed_total{application_name=\"$application\",instance=\"$instance\",}[2m])) by(interface) or vector(0)","instant":false,"legendFormat":"未知原因错误","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_unknown_failed_total{application_name=\"$application\",instance=\"$instance\",}[2m])) by(interface) ","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"未知原因错误(2min)","type":"timeseries"}],"title":"实例调用详情（作为消费者）","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":21},"id":8,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为生产者，响应上游服务的95%的请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":0,"y":47},"id":13,"interval":"15","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p95{application_name=\"$application\",instance=\"$instance\",}>0)","instant":false,"legendFormat":"avgRT P95 ","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_provider_rt_milliseconds_p95{application_name=\"$application\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}.{{method}} P95 RT","range":true,"refId":"B"}],"title":"RT P95","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为生产者，响应上游服务的99%的请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":12,"y":47},"id":14,"interval":"15","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p99{application_name=\"$application\",instance=\"$instance\",}>0)","instant":false,"legendFormat":"avgRT P99","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_provider_rt_milliseconds_p99{application_name=\"$application\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}.{{method}} P99 RT","range":true,"refId":"B"}],"title":"RT P99","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为生产者，响应上游服务请求的最小RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":0,"y":56},"id":15,"interval":"15","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"min(dubbo_provider_rt_min_milliseconds_aggregate{application_name=\"$application\",instance=\"$instance\"}>0)","hide":true,"instant":false,"legendFormat":"minRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_provider_rt_min_milliseconds_aggregate{application_name=\"$application\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}.{{method}}","range":true,"refId":"A"}],"title":"min RT","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为生产者，响应上游服务请求的最大RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":12,"y":56},"id":12,"interval":"15","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"max(dubbo_provider_rt_max_milliseconds_aggregate{application_name=\"$application\",instance=\"$instance\"}>0)","hide":true,"instant":false,"legendFormat":"maxRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_provider_rt_min_milliseconds_aggregate{application_name=\"$application\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}.{{method}}","range":true,"refId":"A"}],"title":"max RT","type":"timeseries"}],"title":"实例 RT 详情(作为生产者)","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":22},"id":17,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为消费者，调用下游服务时95%的请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":0,"y":48},"id":18,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p95{application_name=\"$application\",instance=\"$instance\",}>0)","hide":true,"instant":false,"legendFormat":"avgRT P95 ","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_consumer_rt_milliseconds_p95{application_name=\"$application\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"RT P95","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为消费者，调用下游服务时99%的请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":12,"y":48},"id":19,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p99{application_name=\"$application\",instance=\"$instance\",}>0)","instant":false,"legendFormat":"avgRT P99","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_consumer_rt_milliseconds_p99{application_name=\"$application\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"B"}],"title":"RT P99(Consumer)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为消费者，调用下游服务的最小RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":0,"y":57},"id":21,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"min(dubbo_consumer_rt_min_milliseconds_aggregate{application_name=\"$application\",instance=\"$instance\",}>0)","hide":true,"instant":false,"legendFormat":"minRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_consumer_rt_min_milliseconds_aggregate{application_name=\"$application\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"A"}],"title":"min RT ","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"作为消费者，调用下游服务的最大RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":12,"y":57},"id":20,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"max(dubbo_consumer_rt_max_milliseconds_aggregate{application_name=\"$application\",instance=\"$instance\"}>0)","hide":true,"instant":false,"legendFormat":"maxRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"dubbo_consumer_rt_max_milliseconds_aggregate{application_name=\"$application\",instance=\"$instance\",}>0","hide":false,"instant":false,"legendFormat":"{{interface}}","range":true,"refId":"A"}],"title":"max RT","type":"timeseries"}],"title":"实例 RT 详情 (作为消费者)","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":23},"id":27,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"continuous-GrYlRd"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":4,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":12,"x":0,"y":49},"id":22,"options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"dubbo_thread_pool_core_size{application_name=\"$application\",instance=\"$instance\",thread_pool_name!~\".*MetadataService.*|.*MetricsService.*\"}","format":"time_series","instant":false,"interval":"","legendFormat":"{{thread_pool_name}}","range":true,"refId":"A"}],"title":"线程池核心","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"continuous-GrYlRd"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":4,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":12,"x":12,"y":49},"id":24,"options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"dubbo_thread_pool_active_size{application_name=\"$application\",instance=\"$instance\",thread_pool_name!~\".*MetadataService.*|.*MetricsService.*\"}","format":"time_series","instant":false,"interval":"","legendFormat":"{{thread_pool_name}}","range":true,"refId":"A"}],"title":"线程池活跃","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"continuous-GrYlRd"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":4,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":12,"x":0,"y":55},"id":25,"options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"dubbo_thread_pool_queue_size{application_name=\"$application\",instance=\"$instance\",thread_pool_name!~\".*MetadataService.*|.*MetricsService.*\"}","format":"time_series","instant":false,"interval":"","legendFormat":"{{thread_pool_name}}","range":true,"refId":"A"}],"title":"线程池队列","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"continuous-GrYlRd"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":4,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":6,"w":12,"x":12,"y":55},"id":26,"options":{"legend":{"calcs":[],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"single","sort":"none"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"dubbo_thread_pool_largest_size{application_name=\"$application\",instance=\"$instance\",thread_pool_name!~\".*MetadataService.*|.*MetricsService.*\"}","format":"time_series","instant":false,"interval":"","legendFormat":"{{thread_pool_name}}","range":true,"refId":"A"}],"title":"线程池最大","type":"timeseries"}],"title":"Dubbo线程池","type":"row"}],"preload":false,"refresh":"1m","schemaVersion":40,"tags":[],"templating":{"list":[{"current":{"text":"prometheus","value":"P1809F7CD0C75ACF3"},"includeAll":false,"name":"datasource","options":[],"query":"prometheus","refresh":1,"regex":"","type":"datasource"},{"current":{"text":"shop-detail","value":"shop-detail"},"datasource":{"type":"prometheus","uid":"${datasource}"},"definition":"label_values(dubbo_application_info_total{},application_name)","includeAll":false,"name":"application","options":[],"query":{"query":"label_values(dubbo_application_info_total{},application_name)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":1,"regex":"","type":"query"},{"current":{"text":"10.111.251.103:22222","value":"10.111.251.103:22222"},"datasource":{"type":"prometheus","uid":"${datasource}"},"definition":"label_values(dubbo_application_info_total{application_name=\"$application\"},instance)","includeAll":false,"name":"instance","options":[],"query":{"query":"label_values(dubbo_application_info_total{application_name=\"$application\"},instance)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":2,"regex":"","type":"query"}]},"time":{"from":"now-5m","to":"now"},"timepicker":{},"timezone":"","title":"instance","uid":"dcf5defe-d198-4704-9edf-6520838880e9","version":1,"weekStart":""}
  dubbo-metrics-service-dashboard.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":42,"links":[],"panels":[{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":0},"id":5,"panels":[],"title":"接口总览","type":"row"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":1,"min":0,"noValue":"无","thresholds":{"mode":"percentage","steps":[{"color":"dark-red","value":null},{"color":"dark-yellow","value":95},{"color":"dark-green","value":100}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":7,"w":3,"x":0,"y":1},"id":1,"options":{"minVizHeight":75,"minVizWidth":75,"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":true,"showThresholdMarkers":true,"sizing":"auto","text":{}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"(sum(dubbo_consumer_requests_succeed_total{interface=\"$service\",method=~\"$method\"})   / sum(dubbo_consumer_requests_total{interface=\"$service\",method=~\"$method\"})  ) OR on() vector(NAN)","hide":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"调用成功率（Consumer）","type":"gauge"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"max":1,"min":0,"noValue":"No data","thresholds":{"mode":"percentage","steps":[{"color":"dark-red","value":null},{"color":"dark-yellow","value":95},{"color":"dark-green","value":100}]},"unit":"percentunit"},"overrides":[]},"gridPos":{"h":7,"w":3,"x":3,"y":1},"id":2,"options":{"minVizHeight":75,"minVizWidth":75,"orientation":"auto","reduceOptions":{"calcs":["lastNotNull"],"fields":"","values":false},"showThresholdLabels":true,"showThresholdMarkers":true,"sizing":"auto","text":{}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"(sum(dubbo_provider_requests_succeed_total{interface=\"$service\",method=~\"$method\"})   / sum(dubbo_provider_requests_total{interface=\"$service\",method=~\"$method\"})  ) OR on() vector(NAN)","hide":false,"instant":false,"legendFormat":"__auto","range":true,"refId":"C"}],"title":"被调用成功率（Provider）","type":"gauge"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":6,"x":6,"y":1},"id":3,"interval":"1s","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_consumer_qps_total{interface=\"$service\",method=~\"$method\"})","instant":false,"legendFormat":"调用（消费者视角）","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_provider_qps_total{interface=\"$service\",method=~\"$method\"})","hide":false,"instant":false,"legendFormat":"被调用（生产者视角）","range":true,"refId":"B"}],"title":"QPS","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":7,"w":6,"x":12,"y":1},"id":25,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"asc"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_avg_milliseconds_aggregate{interface=\"$service\",method=~\"$method\"}>0)","format":"time_series","instant":false,"interval":"","legendFormat":"调用 avg RT","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_provider_rt_avg_milliseconds_aggregate{interface=\"$service\",method=~\"$method\"}>0)","hide":false,"instant":false,"legendFormat":"被调用 avg RT","range":true,"refId":"B"}],"title":"RT","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":0,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":7,"w":6,"x":18,"y":1},"id":26,"interval":"1s","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum (dubbo_provider_requests_processing{interface=\"$service\"} ) OR vector (0)","instant":false,"legendFormat":"生产者处理并发量","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(dubbo_consumer_requests_processing{interface=\"$service\"}) OR vector (0)","hide":false,"instant":false,"legendFormat":"消费者调用并发量","range":true,"refId":"B"}],"title":"并发","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"percentage","steps":[{"color":"dark-green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":0,"y":8},"id":4,"options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"/^实时时延$/","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_provider_rt_milliseconds_last{interface=\"$service\",method=~\"$method\"})","instant":false,"legendFormat":"实时时延","range":true,"refId":"A"}],"title":"最近被调用时延（RT）","type":"stat"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":9,"x":6,"y":8},"id":28,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_total{interface=\"$service\"}[2m])>0) OR vector(0)","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_succeed_total{interface=\"$service\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"成功数","range":true,"refId":"D"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_total{interface=\"$service\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"请求失败数","range":true,"refId":"E"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_business_failed_total{interface=\"$service\"}[2m])>0)  OR vector(0)","hide":false,"instant":false,"legendFormat":"业务原因失败数","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_timeout_total{interface=\"$service\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"超时数","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_unknown_failed_tota{interface=\"$service\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"未知原因失败数","range":true,"refId":"F"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_service_unavailable_total{interface=\"$service\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"服务不可用数","range":true,"refId":"G"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_network_total{interface=\"$service\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"网络错误数","range":true,"refId":"H"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_codec_total{interface=\"$service\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"序列化错误数","range":true,"refId":"I"}],"title":"被调用总览(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisBorderShow":false,"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"barWidthFactor":0.6,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"insertNulls":false,"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":9,"x":15,"y":8},"id":10,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_total{interface=\"$service\"}[2m])>0) OR vector(0)","instant":false,"legendFormat":"总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_succeed_total{interface=\"$service\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"成功数","range":true,"refId":"D"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_total{interface=\"$service\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"请求失败数","range":true,"refId":"E"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_business_failed_total{interface=\"$service\"}[2m])>0)  OR vector(0)","hide":false,"instant":false,"legendFormat":"业务原因失败数","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_timeout_total{interface=\"$service\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"超时数","range":true,"refId":"C"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_unknown_failed_tota{interface=\"$service\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"未知原因失败数","range":true,"refId":"F"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_service_unavailable_total{interface=\"$service\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"服务不可用数","range":true,"refId":"G"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_network_total{interface=\"$service\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"网络错误数","range":true,"refId":"H"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase (dubbo_consumer_requests_failed_codec_total{interface=\"$service\"}[2m])>0) OR vector(0)","hide":false,"instant":false,"legendFormat":"编解码错误数","range":true,"refId":"I"}],"title":"调用总览(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"mappings":[],"thresholds":{"mode":"percentage","steps":[{"color":"dark-green","value":null}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":5,"w":6,"x":0,"y":13},"id":27,"options":{"colorMode":"value","graphMode":"none","justifyMode":"auto","orientation":"auto","percentChangeColorMode":"standard","reduceOptions":{"calcs":["lastNotNull"],"fields":"/^实时时延$/","values":false},"showPercentChange":false,"textMode":"auto","wideLayout":true},"pluginVersion":"11.3.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_consumer_rt_milliseconds_last{interface=\"$service\",method=~\"$method\"})","instant":false,"legendFormat":"实时时延","range":true,"refId":"A"}],"title":"最近调用时延（RT）","type":"stat"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":18},"id":6,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":12,"x":0,"y":3},"id":7,"interval":"1s","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":true,"expr":"sum(dubbo_provider_qps_total{interface=\"$service\"}) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"被调用QPS （生产者视角）","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":10,"w":12,"x":12,"y":3},"id":8,"interval":"1s","options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":true,"expr":"sum(dubbo_consumer_qps_total{interface=\"$service\"}) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"调用QPS（消费者视角）","type":"timeseries"}],"title":"接口QPS详情（生产者&消费者）","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":19},"id":38,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":20},"id":39,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_total{interface=\"$service\"}[2m])) or vector(0)","instant":false,"legendFormat":"请求总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_total{interface=\"$service\",method=~\"$method\"}[2m])) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求总数(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":20},"id":40,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_succeed_total{interface=\"$service\"}[2m])) or vector(0) ","instant":false,"legendFormat":"请求成功总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_succeed_total{interface=\"$service\",method=~\"$method\"}[2m])>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求成功(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":20},"id":41,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_total{interface=\"$service\"}[2m])) or vector(0)","instant":false,"legendFormat":"请求失败数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_total{interface=\"$service\",method=~\"$method\"}[2m])>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求失败(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":28},"id":42,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_business_failed_total{interface=\"$service\"}[2m])) or vector(0)","instant":false,"legendFormat":"业务原因错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_business_failed_total{interface=\"$service\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"业务原因错误(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":28},"id":43,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_timeout_total{interface=\"$service\"}[2m])) OR vector(0)","instant":false,"legendFormat":"请求超时总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_timeout_total{interface=\"$service\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求超时错误(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":28},"id":44,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_service_unavailable_total{interface=\"$service\"}[2m])) ","instant":false,"legendFormat":"服务不可用总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_service_unavailable_total{interface=\"$service\",method=~\"$method\"}[2m])) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"服务不可用错误(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":36},"id":45,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_network_total{interface=\"$service\"}[2m])) OR vector(0)","instant":false,"legendFormat":"网络错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_network_total{interface=\"$service\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"网络错误(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":36},"id":46,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_failed_codec_total{interface=\"$service\"}[2m])) OR vector(0)","instant":false,"legendFormat":"序列化错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_failed_codec_total{interface=\"$service\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"序列化错误(生产者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":36},"id":47,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_provider_requests_unknown_failed_total{interface=\"$service\"}[2m])) OR vector(0)","instant":false,"legendFormat":"未知原因失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_provider_requests_unknown_failed_total{interface=\"$service\",method=~\"method\"}[2m])) by (mehtod)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"未知原因错误(生产者视角 2min)","type":"timeseries"}],"title":"接口被调用详情（生产者详情）","type":"row"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":20},"id":9,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":4},"id":12,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_total{interface=\"$service\"}[2m])) or vector(0)","instant":false,"legendFormat":"请求总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_total{interface=\"$service\",method=~\"$method\"}[2m])) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求总数(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":4},"id":13,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_succeed_total{interface=\"$service\"}[2m])) or vector(0) ","instant":false,"legendFormat":"请求成功数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_succeed_total{interface=\"$service\",method=~\"$method\"}[2m])>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求成功(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":4},"id":14,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_total{interface=\"$service\"}[2m])) or vector(0)","instant":false,"legendFormat":"请求失败数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_total{interface=\"$service\",method=~\"$method\"}[2m])>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求失败(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":12},"id":11,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_business_failed_total{interface=\"$service\"}[2m])) or vector(0)","instant":false,"legendFormat":"业务原因错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_business_failed_total{interface=\"$service\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"业务原因错误(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":12},"id":16,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_timeout_total{interface=\"$service\"}[2m])) OR vector(0)","instant":false,"legendFormat":"请求超时总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_timeout_total{interface=\"$service\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"请求超时错误(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":12},"id":18,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_service_unavailable_total{interface=\"$service\"}[2m])) ","instant":false,"legendFormat":"服务不可用总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_service_unavailable_total{interface=\"$service\",method=~\"$method\"}[2m])) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"服务不可用错误(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":0,"y":20},"id":19,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_network_total{interface=\"$service\"}[2m])) OR vector(0)","instant":false,"legendFormat":"网络错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_network_total{interface=\"$service\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"网络错误(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":8,"y":20},"id":20,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_failed_codec_total{interface=\"$service\"}[2m])) OR vector(0)","instant":false,"legendFormat":"序列化错误总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_failed_codec_total{interface=\"$service\",method=~\"$method\"}[2m])) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"序列化错误(消费者视角 2min)","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"line","fillOpacity":5,"gradientMode":"none","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"smooth","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":8,"x":16,"y":20},"id":17,"options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"sum (increase(dubbo_consumer_requests_unknown_failed_total{interface=\"$service\"}[2m])) OR vector(0)","instant":false,"legendFormat":"未知原因失败总数","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"sum(increase(dubbo_consumer_requests_unknown_failed_total{interface=\"$service\",method=~\"method\"}[2m])) by (mehtod)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"未知原因错误(消费者视角 2min)","type":"timeseries"}],"title":"接口调用详情（消费者视角）","type":"row"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":21},"id":33,"panels":[],"title":"接口RT详情（生产者视角）","type":"row"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"生产者响应 此接口的95%请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":22},"id":34,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p95{interface=\"$service\"}>0)","hide":true,"instant":false,"legendFormat":"avgRT P95 ","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p95{interface=\"$service\",method=~\"$method\"}>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"RT P95","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"生产者响应 此接口的99%请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":22},"id":35,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p99{interface=\"$service\"}>0)","hide":true,"instant":false,"legendFormat":"avgRT P95 ","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_provider_rt_milliseconds_p99{interface=\"$service\",method=~\"$method\"}>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"RT P99","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"生产者响应此接口请求的最小RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[{"__systemRef":"hideSeriesFrom","matcher":{"id":"byNames","options":{"mode":"exclude","names":["getItem"],"prefix":"All except:","readOnly":true}},"properties":[{"id":"custom.hideFrom","value":{"legend":false,"tooltip":false,"viz":true}}]}]},"gridPos":{"h":9,"w":12,"x":0,"y":30},"id":36,"interval":"15","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"min(dubbo_provider_rt_min_milliseconds_aggregate{interface=\"$service\"}>0)","hide":true,"instant":false,"legendFormat":"minRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_provider_rt_min_milliseconds_aggregate{interface=\"$service\",method=~\"$method\"}>0) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"A"}],"title":"min RT","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"生产者响应此接口请求的最大RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[{"__systemRef":"hideSeriesFrom","matcher":{"id":"byNames","options":{"mode":"exclude","names":["getItem"],"prefix":"All except:","readOnly":true}},"properties":[{"id":"custom.hideFrom","value":{"legend":false,"tooltip":false,"viz":true}}]}]},"gridPos":{"h":9,"w":12,"x":12,"y":30},"id":37,"interval":"15","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"min(dubbo_provider_rt_max_milliseconds_aggregate{interface=\"$service\"}>0)","hide":true,"instant":false,"legendFormat":"minRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_provider_rt_max_milliseconds_aggregate{interface=\"$service\",method=~\"$method\"}>0) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"A"}],"title":" max RT","type":"timeseries"},{"collapsed":false,"gridPos":{"h":1,"w":24,"x":0,"y":39},"id":23,"panels":[],"title":"接口 RT详情（消费者视角）","type":"row"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"消费者调用此接口时95%的请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":0,"y":40},"id":29,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p95{interface=\"$service\"}>0)","hide":true,"instant":false,"legendFormat":"avgRT P95 ","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p95{interface=\"$service\",method=~\"$method\"}>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"RT P95","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"消费者调用此接口时99%的请求的RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":24,"gradientMode":"opacity","hideFrom":{"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":8,"w":12,"x":12,"y":40},"id":30,"options":{"legend":{"calcs":["min","max"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"none"}},"targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p99{interface=\"$service\"}>0)","hide":true,"instant":false,"legendFormat":"avgRT P95 ","range":true,"refId":"A"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"avg(dubbo_consumer_rt_milliseconds_p99{interface=\"$service\",method=~\"$method\"}>0) by (method) ","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"B"}],"title":"RT P99","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"消费者调用此接口的最小RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":0,"y":48},"id":31,"interval":"15","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"min(dubbo_consumer_rt_min_milliseconds_aggregate{interface=\"$service\"}>0)","hide":true,"instant":false,"legendFormat":"minRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_consumer_rt_min_milliseconds_aggregate{interface=\"$service\",method=~\"$method\"}>0) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"A"}],"title":"min RT","type":"timeseries"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"消费者调用此接口最大RT","fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisCenteredZero":false,"axisColorMode":"text","axisLabel":"","axisPlacement":"auto","barAlignment":0,"drawStyle":"bars","fillOpacity":0,"gradientMode":"none","hideFrom":{"graph":false,"legend":false,"tooltip":false,"viz":false},"lineInterpolation":"linear","lineWidth":1,"pointSize":5,"scaleDistribution":{"type":"linear"},"showPoints":"auto","spanNulls":false,"stacking":{"group":"A","mode":"none"},"thresholdsStyle":{"mode":"off"}},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"},{"color":"red","value":80}]},"unit":"ms"},"overrides":[]},"gridPos":{"h":9,"w":12,"x":12,"y":48},"id":32,"interval":"15","options":{"legend":{"calcs":["min","max","mean"],"displayMode":"table","placement":"bottom","showLegend":true},"tooltip":{"mode":"multi","sort":"desc"}},"pluginVersion":"9.3.2","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"min(dubbo_consumer_rt_max_milliseconds_aggregate{interface=\"$service\"}>0)","hide":true,"instant":false,"legendFormat":"minRT","range":true,"refId":"B"},{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","expr":"avg(dubbo_consumer_rt_max_milliseconds_aggregate{interface=\"$service\",method=~\"$method\"}>0) by (method)","hide":false,"instant":false,"legendFormat":"{{method}}","range":true,"refId":"A"}],"title":"max RT","type":"timeseries"},{"collapsed":true,"gridPos":{"h":1,"w":24,"x":0,"y":57},"id":24,"panels":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"description":"","fieldConfig":{"defaults":{"color":{"mode":"fixed"},"custom":{"align":"center","cellOptions":{"type":"json-view"},"filterable":false,"inspect":true},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green"}]}},"overrides":[{"matcher":{"id":"byName","options":"Time"},"properties":[{"id":"custom.hidden","value":true}]},{"matcher":{"id":"byName","options":"Value"},"properties":[{"id":"custom.hidden","value":true}]}]},"gridPos":{"h":8,"w":4,"x":0,"y":41},"id":21,"options":{"cellHeight":"sm","footer":{"countRows":false,"enablePagination":true,"fields":["Value"],"reducer":["sum"],"show":true},"showHeader":true,"sortBy":[]},"pluginVersion":"10.0.1","targets":[{"datasource":{"type":"prometheus","uid":"${datasource}"},"editorMode":"code","exemplar":false,"expr":"count by(method) (dubbo_provider_requests_total{interface=\"$service\"})","format":"table","instant":true,"range":false,"refId":"A"}],"title":"接口方法","type":"table"}],"title":"deprecated","type":"row"}],"preload":false,"refresh":"","schemaVersion":40,"tags":[],"templating":{"list":[{"current":{"text":"prometheus","value":"P1809F7CD0C75ACF3"},"includeAll":false,"name":"datasource","options":[],"query":"prometheus","refresh":1,"regex":"","type":"datasource"},{"current":{"text":"org.apache.dubbo.samples.CommentService","value":"org.apache.dubbo.samples.CommentService"},"datasource":{"type":"prometheus","uid":"${datasource}"},"definition":"label_values(dubbo_provider_requests_total{},interface)","description":"接口名","includeAll":false,"label":"service","name":"service","options":[],"query":{"query":"label_values(dubbo_provider_requests_total{},interface)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":2,"regex":"","sort":1,"type":"query"},{"allValue":".*","current":{"text":["All"],"value":["$__all"]},"datasource":{"type":"prometheus","uid":"${datasource}"},"definition":"label_values(dubbo_provider_requests_total{interface=\"$service\"},method)","includeAll":true,"multi":true,"name":"method","options":[],"query":{"query":"label_values(dubbo_provider_requests_total{interface=\"$service\"},method)","refId":"PrometheusVariableQueryEditor-VariableQuery"},"refresh":2,"regex":"","sort":2,"type":"query"}]},"time":{"from":"now-5m","to":"now"},"timepicker":{},"timezone":"","title":"service","uid":"ec689613-b4a1-45b1-b8bd-9d557059f970","version":1,"weekStart":""}
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: dubbo-metrics-grafana-dashboards
  namespace: dubbo-system
---        
apiVersion: v1
data:
  dubbo-traces-application-dashboard.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":34,"links":[],"panels":[{"datasource":{"type":"jaeger","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"align":"auto","cellOptions":{"type":"auto"},"inspect":false},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":15,"w":24,"x":0,"y":0},"id":1,"options":{"cellHeight":"sm","footer":{"countRows":false,"fields":"","reducer":["mean"],"show":true},"showHeader":true},"pluginVersion":"10.4.14","targets":[{"datasource":{"type":"jaeger","uid":"${datasource}"},"queryType":"search","refId":"A","service":"${application}","tags":""}],"title":"Trace Table","type":"table"}],"refresh":"","schemaVersion":39,"tags":[],"templating":{"list":[{"current":{"selected":false,"text":"jaeger","value":"fe670vj54q48wc"},"hide":0,"includeAll":false,"multi":false,"name":"datasource","options":[],"query":"jaeger","refresh":1,"regex":"","skipUrlSync":false,"type":"datasource"},{"current":{"text":"shop-detail","value":"shop-detail"},"hide":0,"includeAll":false,"multi":false,"name":"application","options":[],"query":"","skipUrlSync":false,"type":"custom"}]},"time":{"from":"now-15m","to":"now"},"timepicker":{},"timezone":"","title":"application","uid":"e968a89b-f03d-42e3-8ad3-930ae815cb0f","version":8,"weekStart":""}
  dubbo-traces-instance-dashboard.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":35,"links":[],"panels":[{"datasource":{"type":"jaeger","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"align":"auto","cellOptions":{"type":"auto"},"inspect":false},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[]},"gridPos":{"h":8,"w":24,"x":0,"y":0},"id":1,"options":{"cellHeight":"sm","footer":{"countRows":false,"fields":"","reducer":["sum"],"show":false},"showHeader":true},"pluginVersion":"10.4.14","targets":[{"datasource":{"type":"jaeger","uid":"${datasource}"},"queryType":"search","refId":"A","service":"${application}","tags":"net.peer.name=${instance}"}],"title":"Panel Title","type":"table"}],"refresh":"","schemaVersion":39,"tags":[],"templating":{"list":[{"current":{"selected":false,"text":"jaeger","value":"fe670vj54q48wc"},"hide":0,"includeAll":false,"multi":false,"name":"datasource","options":[],"query":"jaeger","refresh":1,"regex":"","skipUrlSync":false,"type":"datasource"},{"current":{"text":"","value":""},"hide":0,"includeAll":false,"label":"application","multi":false,"name":"application","options":[],"query":"","skipUrlSync":false,"type":"custom"},{"current":{"text":"","value":""},"hide":0,"includeAll":false,"multi":false,"name":"instance","options":[],"query":"","skipUrlSync":false,"type":"custom"}]},"time":{"from":"now-3h","to":"now"},"timepicker":{},"timezone":"","title":"instance","uid":"f5f48f75-13ec-489b-88ae-635ae38d8618","version":8,"weekStart":""}
  dubbo-traces-service-dashboard.json: |
    {"annotations":{"list":[{"builtIn":1,"datasource":{"type":"grafana","uid":"-- Grafana --"},"enable":true,"hide":true,"iconColor":"rgba(0, 211, 255, 1)","name":"Annotations & Alerts","type":"dashboard"}]},"editable":true,"fiscalYearStartMonth":0,"graphTooltip":0,"id":36,"links":[],"panels":[{"datasource":{"type":"jaeger","uid":"${datasource}"},"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"custom":{"align":"auto","cellOptions":{"type":"auto"},"inspect":false},"mappings":[],"thresholds":{"mode":"absolute","steps":[{"color":"green","value":null},{"color":"red","value":80}]}},"overrides":[{"matcher":{"id":"byName","options":"Trace name"},"properties":[{"id":"custom.width","value":315}]}]},"gridPos":{"h":8,"w":24,"x":0,"y":0},"id":1,"options":{"cellHeight":"sm","footer":{"countRows":false,"fields":"","reducer":["sum"],"show":false},"showHeader":true,"sortBy":[]},"pluginVersion":"10.4.14","targets":[{"datasource":{"type":"jaeger","uid":"${datasource}"},"queryType":"search","refId":"A","service":"${application}","tags":"rpc.service=${service}"}],"title":"Panel Title","type":"table"}],"refresh":"","schemaVersion":39,"tags":[],"templating":{"list":[{"current":{"selected":false,"text":"jaeger","value":"fe670vj54q48wc"},"hide":0,"includeAll":false,"multi":false,"name":"datasource","options":[],"query":"jaeger","refresh":1,"regex":"","skipUrlSync":false,"type":"datasource"},{"current":{"text":"shop-detail","value":"shop-detail"},"hide":0,"includeAll":false,"label":"application","multi":false,"name":"application","options":[],"query":"","skipUrlSync":false,"type":"custom"},{"current":{"text":"All","value":"All"},"hide":0,"includeAll":false,"label":"service","multi":false,"name":"service","options":[],"query":"","queryValue":"org.apache.dubbo.samples.DetailService","skipUrlSync":false,"type":"custom"}]},"time":{"from":"now-6h","to":"now"},"timepicker":{},"timezone":"","title":"service","uid":"b2e178fb-ada3-4d5e-9f54-de99e7f07662","version":7,"weekStart":""}
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: dubbo-traces-grafana-dashboards
  namespace: dubbo-system